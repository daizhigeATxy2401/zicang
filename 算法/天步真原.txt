　　钦定四库全书　　　　　子部
　　天步真原　　　　　　　天文算法类【推步之属】提要
　　【臣】等谨案天步真原一卷
　　国朝薛凤祚所译西洋穆尼阁法也凤祚有两河清彚已着録顺治中穆尼阁寄寓江寕喜与人谈算术而不招人入耶苏教在彼教中号为笃实君子凤祚初从魏文魁防主持旧法后见穆尼阁始改从西学尽传其术因译其所说为此书其法専推日月交食中间绘弧三角图三一则有北极出地有日距赤道有时刻而求高弧一则有日距天顶有正午黄道有黄道与子午圏相交之角而求黄道高弧交角一则有黄道高弧交角有高下差而求东西南北二差末绘日食食分一图凤祚译是书时新法初行又中西文字辗转相通故词防未能尽畅梅文鼎尝订证其书称其法与崇祯新法厯书有同有异其似异而同者布算之同对数之表与厯书逈别然得数无二惟黄道春分二差则根数大异非测候无以断其是非然其书在未修数理精蕴之前録而存之犹可以见步天之术由疏入宻之渐也乾隆四十七年十月恭校上
　　总纂官【臣】纪昀【臣】陆锡熊【臣】孙士毅
　　总　校　官　【臣】　陆　费　墀







　　钦定四库全书
　　天步真原
　　青州薛凤祚撰
　　日食原理
　　日月泛遇为平防日月地心在一线为正会日月人目在一线为实防用东西南北差为视会
　　求食限
　　中华定食限取北中界【地居赤道之北南不至赤道北不至北极】日食依南方北极出地十八度北方北极出地四十二度定食限最广者太阴距南交尝度七度三十一分午时高下差全变为南北差以加二径折半故距度少太阴距北交尝度一十七度三十五分午时高下差全变为南北差以减二径折半故距度多为可食之限最狭者太阴距南交尝七度距北交尝一十六度五十三分为必食之限　月食不论阴阳厯其限皆一十五度一十二分在日之冲
　　日月交入食限算朔在昼分望在夜分即有食
　　日月越六月皆能再食若五月能再食则大月七月能再食则小月
　　年月积日
　　根数起汉庚辰至崇祯厯元后二十三年庚寅积一千六百五十年入厯减一算
　　先求年变日表次月变日表搃计得第三旬周数　第二旬周数　第一旬周数　日数
　　大西东来应加【一日】日数末一日未成应减二算对仍依原数
　　平朔中积
　　月距日平行表搃计各旬周及日数平行度分以减全周得全周余度又以距日平行表取近小度数求日时分并加于旬周日数为平朔中积日分
　　如先得本年月朔望防只以朔望防逓加平朔免积日之烦望防一十四日十八小时二十二分○二秒朔防倍之二十九日一十二小时四十四分○四秒
　　以中积入表求时分
　　以中积入表求春分平行即以春分平行为引数求加减
　　以中积入表求日平行
　　以中积入表求日心平行即以心行为引数求心差加减及比例分
　　以中积入表求高行以上叚所得心差加减之为真高行
　　以日平行减直高为实引
　　以实引入表求日初均及余分
　　以比例及余分求次均度
　　以初均次均度加减日平行为实经又加减春分为日自春分实经
　　以中积入表求月距日度分两倍之即月心平行以月心行入表求心行加减及比例分
　　以月自行加减心差为月实引
　　以月实引入表求月初均度及余分
　　以比例余分求次均
　　以日平行并月距日行得月平行以加减初次均为月实经又加减春分差为月自春分实经
　　求平防离正防度分　日月相距弧
　　太阳均度与太阴均度若一加一减二均度相加得平防离正防度分若俱加或俱减以小减大其余数即平防离正防度分
　　求日月相距时刻
　　以太阴实引数入表取月一时行度分【若无正度用比例法】以上叚平防离正防度分用三率法当行几时刻为日月相距时刻
　　日月在前在后
　　日月均度或俱加加大者在前或俱减减小者在前若加减不同即减者在前
　　月在日前平防比实防先到日在月前平防比实防后到
　　相距时刻加减
　　平防先到日月相距时刻加实防先到日月相距时刻减以加减平朔中积日分变时分为正防时刻试法真否
　　以正防时刻再筭积日
　　时分变日分
　　日春分平行及加减
　　日平行
　　日心之平行及加减及比例
　　日高行及真高行
　　日实引数
　　日加减度及余分
　　日次均
　　日实经及自春分实经
　　月距日平行及心行
　　月心差及比例分
　　月平引及实引
　　月加减均度及余分
　　月次均
　　月平行实经及自春分实经
　　时分变日以下十六法皆同前惟月距日平行筭于太阳实经之后与上法异
　　前后二筭太阳距太阴度差在三十秒以下即可用若差多再筭
　　再筭法
　　太阴实引数取月一时行用三率法　一率月一时行分　二率一时　三率太阴距太阳差分　第四得所求时分
　　太阳在太阴前实防先到所得时减太阴在太阳前平防先到所得时加
　　筭诸行俱同前
　　应时
　　以太阳实经度查黄赤道变度表得赤道度【无正度用比例法】太阳平行减黄道根数四周纪三十八度三十六分三十四秒平行小加一圏减其余为黄道余度
　　变赤道度减赤道根数二百八十度三十五分赤道小加一圏减其余为赤道余度
　　黄赤道二余度相减变时分【黄道余度大时分加正防赤道余度大时分加正防】南京比立表之地又加七时二十八分北京又加二十○分为实防应时【以上定朔】
　　求太阳实防经纬度
　　太阳黄道实经度变赤道即距赤道实经度
　　太阳黄道实经度用表查纬度南北度分即太阳距赤道纬度
　　求太阳距天顶度【前后三时同用】
　　月在日前月加减大日加减小平防先到实防后到自应时自午而己辰向后筭三小时若月加减小日加减大月在日后平防后到实防先到自应时自午而未申向前筭三小时
　　筭丁亥甲大三角
　　有亥甲邉北极出地之余　有亥丁邉日过白羊初度纬在赤道北以日距赤道纬度减九十度若日过天枰初度纬在赤道南以日距赤道纬度加九十度有亥角距午时刻每时作十五度午后加赤道实
　　经度午前减
　　从不知之角打线从丁从甲皆可
　　今从丁打线至巳先求亥巳线
　　若大于亥丁分线在外小于亥
　　丁分线在内
　　先筭亥巳甲三角
　　用圏线正角第三法有两角一邉其先有邉为正角对邉法
　　求亥巳邉【先有角相连之邉有巳正角　有亥角距午度分　有亥甲邉北极出地之余为正角对邉】
　　一率通　　　二率亥角余线　　三率亥甲邉切线四率得亥巳邉切线
　　求甲巳邉【先有角相连之邉　有巳正角　有求邉对亥角　有亥甲邉　此为正法今用捷法省此筭】
　　一率通　　　二率亥角正线　　三率亥甲邉正线四率得甲己邉正线
　　又筭甲己丁三角【有己正角　有甲己邉有己丁邉】
　　求己丁邉日距赤道纬度减九十度或加九十度除上所得亥巳邉即己丁邉
　　求甲丁邉
　　一率通　　二率甲己邉余线　　　三率己丁邉余线　　四率得甲丁邉余线为日距天顶度其余即距地平
　　筭前后三小时同法但时在午前以距午前分数减六十分所得求度分有时者每一时加十五度时在午后以距午后分数求度分有时者每一时加十五度为距午时
　　有捷法省求甲己邉径求甲丁邉
　　一率亥巳邉余线　　二率亥甲邉余线　　三率己丁邉余线　　四率即径得甲丁邉余线距天顶度【余距地平】
　　筭差角【前后三时同用】
　　如图丑甲午为差角然丑甲邉难
　　取而甲己丙角与甲午之大小同
　　故寜算丙甲己钝用
　　筭丙己邉
　　离午时【即前图亥角每时十五度】看在午前后在午后【自午而未申】加太阳实经变赤道度【即应时所得】在午前【自午而巳辰】减太阳实经变赤道度为过午时圏度即知入何宫度【如得二百五十一度五十分】即入天蝎一十一度五十分
　　变黄道以表中赤道对黄道度数取黄道度
　　有黄道度即可入表求黄道纬度又看黄纬在赤道南北在赤道北【自白羊初至双女三十度】以纬度减北极出地所得在赤道南【自天枰初至双鱼三十度】以纬度加北极出地度所得为丙己邉
　　筭己角
　　丙己邉内有赤道过午时圏度【离午时加实经所得】有赤道变黄道度此入表不用过午时圏度用变黄道度求交角表有余分则用比例法得己角
　　筭甲角【即差角】
　　一率丙甲邉距天顶正线　　　二率己角正线　　三率丙己邉正线
　　搃数相较即得甲角正线为差角
　　求地平差【此法或前或后三时同用】
　　东西南北差之本是高卑差高卑差之本是地平差
　　以太隂实引数入表得其相对之分秒有余数以下度与余数比例或加或减于相对之数为太隂地平差崇祯厯书作地平径数
　　求太隂高卑差【此法或前或后俱筭三时】
　　查表以所得地平差分数从上以前得距地平【即距天顶减九十度之余】从右小余另比例为先得太隂高卑差
　　太阳高卑差以距地平查表得分秒以减先得太隂高卑差为太隂真高卑差【恒减不加】
　　如图
　　日月在甲人目在地视之不见在
　　甲而见在丁甲丙为日高即甲
　　丁为高卑差
　　就黄道极作一大圏至高卑差丁相交黄道又交过顶圏
　　戊为正角凡各圏过本圏之极其相交之角即正角甲丁为高差日在甲人目视之不见在甲而见在戊即甲戊为东西差戊丁为南北差
　　高卑差南北差东西差三者惟甲丁高卑差至大不过六十分其甲戊东西差戊丁南北差皆小于甲丁高卑差故皆锐角又且分数少在天俱可作直线筭东西差【前后三时同法】
　　以通【一○○○○】为一率　以前得差角【即甲角余线】为二率三率以高卑差分秒俱化成秒求其对数与二率相加去一率通求原数以六十成分为东西差筭南北差【前后三时同法】
　　以通【一○○○○】为一率　以前得差角【即甲角正线】为二率三率以高卑差分秒俱化成秒求对数与二率数相加去通求原数以六十成分为南北差
　　若查表第一行距天顶数第二行东西差邉第三行南北差邉省用前筭三角法
　　如筭东西差　一率六十分　二率取表中第二行东西差邉　三率前取太隂高卑差　即得所用东西差　南北差同法但取表中第三行
　　表中各宫皆初分用法如午时正二刻六分日在天蝎一度四十六分○八秒　如天蝎一分午时得距天顶四十二度三十五分人马一分午时得距天顶五十一度二十一分其差八度四十六分用下法
　　一率一宫三十度　二率八度四十六分　三率天蝎一度四十六分○八秒
　　搃数较数即其差分以加先得四十二度三十五分即天蝎一度四十六分距天顶度
　　东西南北差同法
　　求视防【筭日食月行】
　　以太隂实引数入表其表每隔三度以余分求比例或加或减于正度之上为太隂一时分实行度
　　有实行取视行
　　第一法月食在黄道九十度限东东西差先大后小【早间食辰时在先巳时在后午后食未时在先申时在后】其上所筭第一时东西差与第二时东西差第三时东西差与第二时东西差相减其余分与实行相减为视行
　　若东西差先小后大其前后二差相减其余分加实行为视行
　　第二法日食在黄道九十度西东西差先大后小其东西差前后二差相减其余分加实行为视行
　　若先小后大其东西差前后二差相减其余分减实行即为视行
　　第三法一半在九十度限东一半在九十度西前后二东西差相减【不论先后大小】其余与实行相减余分即为视行
　　视行距度
　　东西差大实行小以实行减东西差其余为实防与视防相距度分东西差小实行大即以东西差为实防距视防度分
　　视防相去度变时法
　　第一法若实防东西差比视行小其东西差分数要实防相近时视行比例分得实防与视防相去度数变时分
　　第二法若实防东西差比视行大除一时月视行余东西差分数要视防相近时视行比例分得实防与视防相去度数变时分　二叚日食在东皆减实防时分为视防时分在西皆加实防时分为视防时分
　　一率太隂实行　　二率六十分　　三率实防去视防度分俱化为秒乘除成分为所变时分
　　用第一法加减实防为视防
　　用第二法一时之外加减实防为视防
　　试法真不真
　　用所得视防再筭距天顶　再筭差角　地平差同前数　再筭太隂高平差　再筭东西差　再筭南北差　日食月行同前数
　　有实行求视行
　　以所得东西差置位　一率六十分　二率月一时实行　三率上叚所得有实行求视防变时分　俱化为秒　乘除　成分　与置位东西差相减余为差分
　　有差分变时分
　　一率上叚实防距视防度分　　二率上叚实防距视防所变时分　　　三率差分　　　俱化为秒　　乘　　除　　成　　分　　秒
　　为变时
　　差分大东西差小上叚视防时分内当减变时分为视防差分以加减实防为视防
　　差分小东西差大上叚视防时分内当加变时分为视防差分以加减实防为视防
　　时分差至三十秒内即定视防若多又用三试其筭法与第二叚试法同但要所得差分成时与东西差合方定视防
　　求日食大小筭交行
　　以日月实防时分【用应时定数】入平距度表搃计交行度以太隂均度依号加减之为实防交行以加减东西差为日月视防交行度实防在前东西差减实防若在后东西差加
　　求距度
　　以交行宫度分秒查距度表有小余用比例法为视防距度又本表后行余分比例下度差分为正余分与太隂心差比例分相较乘除以加距度为真距度【恒加不减】日月食若无此比例分及余分者省此筭
　　距度【○一二宫北下　六七八宫南上三四五宫南下　九十土宫北上】
　　求视距度
　　正交防在南在北与南北差同类相加异类相减【北极出地二十三度三十一分以上皆在南】为视距度
　　若南北差大于距度其日食交在北者移而南求日月半径
　　以太阳实引数入表求日半径
　　以太隂实引数入表求月半径
　　以两半径搃数减视距度余数为食分距度若距度大于两半径搃数即无食
　　食分
　　以太阳全径为一率　日月两半径搃数减视距度为二率西法十二分为三率
　　取第四即西法日食分
　　又作中国分以西法十二分为一率　以所得西法日食分为二率　中法日食十分为三率　取第四即中法日食分
　　用表以日全径从右以距度分从上再以日全径小余从右以距度分从上得食分
　　求初亏
　　以食甚前一时东西差与食甚时东西差相较余数以加减月实引数所得月一时正行为食甚前一时视行　取法与前有实行求视行同法
　　用表以日月半径搃数从上以真距交度分从右又以半径搃数小余从上以距交从右共得○分秒以太隂食甚前一时视行为一率以一时六十分为二率以表上所取分秒为三率　乘　除　成分得时分以减食甚时刻为初亏
　　求复圆
　　依法再求食甚后一小时距顶　距地平　差角　高差　东西差
　　以食甚后一时与食甚东西差相较余数以加减月实引所得月一时正行为食甚后一时视行
　　用表同初亏法以加食甚时分为复圆

　　丑卯黄道　未寅白道
　　丑未寅卯为距交
　　子辰为太阳半径
　　午申为月半径
　　子丙为日月两半径搃数


　　月食原理
　　月食求积年日数筭太阳诸行太隂诸行皆与筭日食同求日月前后日月相距度相距时刻筭日月实防皆与日食同
　　再筭试真否皆与日食同
　　求太隂正中交行
　　置实防中积日数分秒入太隂平距度表搃计交行度数加减太隂均度得交平行
　　求太隂距交分【余分有比例分取用无比例分省笔】
　　以太隂平交行入距交度表得距交分无正度分用比例法
　　初一二九十十一宫北
　　三四五六七八宫南
　　求太隂半径及全径
　　以太隂实引数入表得太隂半径无正度用比例法倍之为太隂全径
　　求地景半径
　　以太隂实引数入表得地景径【无正度用比例法】减对行秒余为真半径
　　两半径减距交余数
　　月半径加地景半径并之以所得距交分数减之所得为二径余数
　　食分
　　日月食表月全径从右二径余数从上得月食分月食有初亏食既食甚生光复圆五叚若在十二分以内食不全及全食即生光者去食甚生光二叚西法月作十二分筭　中法月食作十五分
　　如西法筭月食十八分一秒　一率十二分　二率十八分　三率十○分　得中法十五分
　　食既分食甚分
　　月食不全或全食而食尽即生光者所得为食既分若月全食食后不即生光者所得为食甚分
　　食时分表以月半径地景径并之搃数从上月交距度从右无正度用比例法为食既与食甚度分
　　初亏分
　　实防减食既与食甚分为初亏分
　　有食甚求食既分【月食不全不必再筭】
　　以月半径减地景半径从上月交距度从右【无正度用比例法】以减食甚分为食既分
　　生光
　　以前所得有食甚求食既分数加食甚为生光分
　　复圆
　　实防并食既与食甚分倍加之为复圆分
　　太隂一时实行
　　表求太隂一时实行【无正度用比例法】以食甚分实行求食【无正时用比例法】为食甚时分以食既分实行求时为食既时分
　　求正时
　　太阳平行减黄道根数得黄道余度太阳实经度黄赤道同升度减赤道根数得赤道余度二余度相减以二余度入变时表查时为时差黄道余大加实防赤道余大减实防又加本地与立表之地所差时分【如南京差七时二十八分北京差二十○分】为真实防时刻










　　天步真原
