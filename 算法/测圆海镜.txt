　　钦定四库全书　　　　　子部六
　　测圆海镜　　　　　　　天文算法类二【算书之属】提要
　　【臣】等谨案测圆海镜十二卷元李冶撰冶字镜斋栾城人金末登进士入元官翰林学士事迹具元史本传其书以勾股容圆为题自圆心圆外纵横取之得大小十五形皆无竒零次列识别杂记数百条以穷其理次设问一百七十则以尽其用探赜索隐参伍错综虽习其法者不能骤解而其草多言立天元一按立天元一法见扵宋秦九韶九章大衍术中厥后授时草及四元玉鉴等书皆屡见之而此书言之独详其法关乎数学者甚大然自元以来畴人皆株守立成习而不察至遂无知其法者故唐顺之与頋应祥书称立天元一漫不省为何语頋应祥演是书为分类释术其自序亦云立天元一无下手之术则是书虽存而其传已泯矣明万厯中利玛窦与徐光启李之等译为同文算指诸书扵古九章皆有辨订独于立天元一法阙而不言徐光启扵勾股义序中引此书又谓欲説其义而未遑是此书已为利玛窦所见而犹未得其解也迨我
　　国朝醲化翔洽梯航鳞萃欧逻巴人始以借根方法进
　　呈
　　圣祖仁皇帝授
　　蒙养斋诸臣习之梅防成乃悟即古立天元一法扵赤水遗珍中详解之且载西名阿尔热巴拉【案原本作阿尔热巴逹谨据西洋借根法改正】即华言东来法知即冶之遗书流入西域又转而还入中原也今用以勘騐西法一一脗合瑴成所説信而有徴特录存之以为算法之秘钥且以见中法西法互发益明无容设畛域之见焉乾隆四十六年二月恭校上
　　总纂官【臣】纪昀【臣】陆锡熊【臣】孙士毅
　　总　校　官　【臣】　陆　费　墀











　　原序
　　数本难穷吾欲以力强穷之彼其数不惟不能得其凡而吾之力且惫矣然则数果不可以穷耶既已名之数矣则又何为而不可穷也故谓数为难穷斯可谓数为不可穷斯不可何则彼其冥冥之中固有昭昭者存夫昭昭者其自然之数也非自然之数其自然之理也数一出于自然吾欲以力强穷之使隶首复生亦末如之何也已苟能推自然之理以明自然之数则虽逺而干端坤倪幽而神情鬼状未有不合者矣予自幼喜算数恒病夫考圆之术例出于牵强殊乖于自然如古率徽率密率之不同截弧截矢截背之互见内外诸角析剖支条莫不各自名家与世作法及反覆研究卒无以当吾心焉老大以来得洞渊九容之说日夕玩绎而向之病我者使爆然落去而无遗余山中多暇客有从余求其说者于是乎又为衍之遂累一百七十问既成编客复目之测圆海镜盖取夫天临海镜之义也昔半山老人集唐百家诗选自谓废日力于此良可惜明道先生以上蔡谢君记诵为玩物丧志夫文史尚矣犹之为不足贵况九九贱技能乎嗜好酸咸平生每痛自戒勅竟莫能已类有物慿之者吾亦不知其然而然也故尝私为之解曰由技兼于事者言之夷之礼夔之乐亦不免为一技由技进乎道者言之石之斤扁之轮非圣人之所与乎览吾之编察吾苦心其悯我者当百数其笑我者当千数乃若吾之所自得则自得焉耳宁复为人悯笑计哉李冶序















　　总率名号
　　天之地为通　　天之干为通股
　　干之地为通勾
　　天之川为边　　天之西为边股
　　西之川为边勾
　　日之地为底　　日之北为底股
　　北之地为底勾
　　天之山为黄广　天之金为股
　　金之山为勾
　　月之地为黄长　月之泉为股
　　泉之地为勾
　　天之日为上髙　天之旦为股
　　旦之日为勾
　　日之山为下髙　日之朱为股
　　朱之山为勾
　　月之川为上平　月之青为股
　　青之川为勾
　　川之地为下平　川之夕为股
　　夕之地为勾
　　天之月为大差　天之坤为股
　　坤之月为勾
　　山之地为小差　山之艮为股
　　艮之地为勾
　　日之川为皇极　日之心为股
　　心之川为勾
　　月之山为太虚　月之水为股
　　水之山为勾
　　日之月为明　　日之南为股
　　南之月为勾
　　山之川为□　　山之东为股
　　东之川为勾
　　今问正数
　　通六百八十　勾三百二十　股六百
　　勾股和九百二十较二百八十
　　勾和一千较三百六十
　　股和一千二百八十较八十
　　较和九百六十较四百
　　和和一千六百较二百四十
　　边五百四十四　勾二百五十六　股四百八十勾股和七百三十六较二百二十四
　　勾和八百较二百八十八
　　股和一千零二十四较六十四
　　较和七百六十八较三百二十
　　和和一千二百八十较一百九十二
　　底四百二十五　勾二百　股三百七十五勾股和五百七十五较一百七十五
　　勾和六百二十五较二百二十五
　　股和八百较五十
　　较和六百较二百五十
　　和和一千较一百五十
　　黄广五百一十　勾二百四十【即城径也】　股四百五十
　　勾股和六百九十较二百一十
　　勾和七百五十较二百七十
　　股和九百六十较六十
　　较和七百二十较三百
　　和和一千二百较一百八十
　　黄长二百七十二　勾一百二十八　股二百四十【即城径也】
　　勾股和三百六十八较一百一十二
　　勾和四百较一百四十四
　　股和五百一十二较三十二
　　较和三百八十四较一百六十
　　和和六百四十较九十六
　　髙二百五十五【上下同】　勾一百二十【即半径】　股二百二十五
　　勾股和三百四十五较一百零五
　　勾和三百七十五较一百三十五
　　股和四百八十较三十
　　较和三百六十较一百五十
　　和和六百较九十
　　平一百三十六【上下同】　勾六十四　股一百二十【即半径也】
　　勾股和一百八十四较五十六
　　勾和二百较七十二
　　股和二百五十六较十六
　　较和一百九十二较八十
　　和和三百二十较四十八
　　大差四百零八　勾一百九十二　股三百六十勾股和五百五十二较一百六十八
　　勾和六百较二百一十六
　　股和七百六十八较四十八
　　较和五百七十六较二百四十
　　和和九百六十较一百四十四
　　小差一百七十　勾八十　股一百五十
　　勾股和二百三十较七十
　　勾和二百五十较九十
　　股和三百二十较二十
　　较和二百四十较一百
　　和和四百较六十
　　皇极二百八十九　勾一百三十六　股二百五十五
　　勾股和三百九十一较一百一十九
　　勾和四百二十五较一百五十三
　　股和五百四十四较三十四
　　较和四百零八较一百七十
　　和和六百八十较一百零二
　　太虚一百零二　勾四十八　股九十
　　勾股和一百三十八较四十二
　　勾和一百五十较五十四
　　股和一百九十二较一十二
　　较和一百四十四较六十
　　和和二百四十较三十六
　　明一百五十三　勾七十二　股一百三十五勾股和二百零七较六十三
　　勾和二百二十五较八十一
　　股和二百八十八较一十八
　　较和二百一十六较九十
　　和和三百六十较五十四
　　□三十四　勾十六　股三十
　　勾股和四十六较一十四
　　勾和五十较一十八
　　股和六十四较四
　　较和四十八较二十
　　和和八十较十二
　　识别杂记
　　天之于日与日之于心同心之于川与川之于地同日之于心与日之于山同故以山之川为小差　川之于心与川之于月同故以月之日为大差
　　明勾□股相得名为内率求虚积　明股□勾相得名为外率求虚积　虚勾虚股相得名为虚率求虚积
　　凡勾股和即黄和　凡大差即股黄较　凡小差即勾黄较
　　髙股平勾差名角差【又】名逺差此数即髙平二差共也又为明和□和较也【又】为通差内去极差【又】为极差虚差共　明□二差共名次差【又】名近差【又】名戾【音列】和此数【又】为明大差□小差较也　勾圆差之股股圆差之勾相并名混同和此数【又】为一径一虚共也　明□二差较名傍差此数又为髙平二差较【又】为极双差内减虚和【又】为极和内减城径也　虚差不及傍差名蓌差此数又为大差差内去角差【又】为极差内去二之平差【又】为次差内去小差差【又】为明股□勾共内去二之明勾也　虚差傍差共为蓌和【蓌音剉】
　　凡大差股小差勾相乘为半段径幂　大差勾小差股相乘亦同上　虚勾乗大股得半段径幂　虚股乘大勾亦同上　边股□股相乘得半径幂明勾底勾相乘亦同上　黄广股黄长勾相乗得径幂　髙股平勾相乗得半径幂　明明股并与□□勾并相乘得半径幂　明明勾并与□□股并相乘亦同上　髙平相乘为一段皇极积　明勾□股相乘倍之为一段太虚积明股□勾相乘亦同
　　右诸杂名目
　　通上勾股和即一城径一通也其较即勾圆差之勾股圆差之股相较也　勾和即二勾一大差其较则大差也　股和即二股一小差其较则小差也　较和为一径三差共其较则大勾小差共也　三事和即边三事和上带大勾也【又】为底三事和上带大股也其较则城径也
　　边上勾股和为通股平共其较则大差股内去平也　勾和即通股底勾共其较则明股明共也　股和即通股通和内少个边勾也其较则平勾也　较和为大差上股和其较则大勾也　三事和即通上股和【又】为黄广三事和上带勾圆差也其较则大差勾也【又】为平上较和【又】为太虚上股和也
　　底上勾股和为通勾髙共其较则髙内去小差勾也　勾和为通上较较与髙股共其较则髙股也　股和为半个通上三事和其较则□上勾和也　较和为大差上勾和也其较则小差上勾和也　三事和即通上勾和【又】为黄长三事和上带股圆差其较则小差股也【又】为髙上较较【又】为太虚上勾和
　　黄广上勾股和为大股虚股共【又】为通勾通股共内少个小差上勾股和其较则两个髙差也　勾和为二髙一圆径共其较则二明股也　股和为通上较和其较则二□股也　较和即两个大差股也其较即两个小差股也　三事和两大股也其较则两虚股也
　　黄长上勾股和为大勾虚勾共【又】为通和内少个大差上勾股和也其较则两个平差也　勾和为通上较较其较则两个明勾也　股和为二圆径二□勾其较则二□勾也　较和为两个大差勾也其较则两个小差勾也　三事和为两大勾其较则两虚勾也
　　髙上勾股和为髙虚股共【又】为一径及髙勾髙股差也其较则底内减大勾也【又】为边股内减底股也　勾共则底股其较则明股也　股共即边股其差则□股也　较共则大差股其较则小差股也　三事和即大股其较则虚股也【又】为小差上勾较【又】为明上较较
　　平上勾股共即平虚勾共也其较则大股内减边也　勾共即底勾其差则明勾也　股共即边勾其较则□勾也　较共即大差勾其较则小差勾也　三事和即大勾其较则虚勾也【又】为大差上股较【又】为□上较和
　　大差上勾股和即大股内去虚勾其差则大差内去圆径也　勾共即大股其差则大差股内去二之明勾也　股和为大股上加个大中差也【按大中差乃明股和与半径之较】其较则虚勾也　较和为两个边上勾较其较即城径也　三事和即大股与股圆差共【又】为大大较共【又】为二边股其较则太虚上较和也
　　小差上勾股和即大勾内去虚股也其较则圆径内去小差也　勾和为大勾上减个小中差也【按小中差乃□勾和与半径之较】其较则虚股也　股共即大勾其较则小差勾内去两个□股也　较和为圆径其较则为两个底上股较【又】为两个□上勾和也　三事和即大勾与勾圆差共也又为大大较较【按即通又上较较】为二底勾其较则太虚上较较也
　　皇极勾股和即髙平共其较则明股内去□勾也　勾共即底其较则明也　股共则边其较则□也　较和为髙明共【又】为大股内减大差勾【又】为大差其较则小差也　三事和即通其较则太虚也【又】为明勾□股共【又】为髙内减明【又】为平内减□【又】为大差勾上减虚股【又】为小差股上减虚勾也
　　太虚勾股和即圆径内减虚【又】为虚虚黄方共【又】为皇极内去明股□勾共其差则大差勾内减个小差股也　勾共即小差股也其较则虚股内减个小黄方也　股共即大差勾其较则虚勾内减个小黄方也　较和为大差上和较【又】黄长上勾较【又】为两个明勾其较小差上黄方面也　三事和即大黄方其较则为两个明上股较【又】为□上两个勾较【又】为明上小差与□上大差共也
　　明勾股和即大差股内减明其较则明内减虚股也　勾并即髙股其较则髙股内少二之明勾也　股和即边股内减大差勾【又】为边勾边差其较则半个虚黄方也　较和即大差上勾较其较则虚股也　三事和即股圆差其较则太虚上勾较【又】为虚股内减虚黄方也
　　□上勾股和即小差内减□其较则虚勾内减□也　勾和即底勾内减小差股【又】为底股底差其较则半个虚黄方也　股和即平勾其较则平勾内少二个□股也　较和即虚勾其较则小差上股较也　三事和即勾圆差其较则太虚上股较【又】为虚勾内减虚黄方也
　　前黄广勾股下　其勾股较【又】为大差股上少个小差股【又】为中差【按中差系通勾股较】内少个小差较【又】为黄广股内少一径　勾共【又】为两个底股【又】为大股与小差股共　股和【又】为大中差共【又】为两个边股　股差【又】为小差上黄方面
　　前黄长勾股下　其勾股较【又】为大差勾上少个小差勾也【又】为圆径内少个黄长勾　勾共【又】为两个底勾【又】为大勾与小差勾共　勾较【又】为大差上黄方靣　股共【又】为两个边勾
　　右五和五较
　　大为大勾与股圆差共【又】为大股与勾圆差共边乃边股平勾共【又】为大股内减平上勾股较　底乃底勾髙股共【又】为大勾内加一个髙差　黄广为大股内减虚股【又】为边股□股共黄长乃大勾内减虚勾【又】为底勾明勾共
　　髙乃大差内减明【又】为明虚共　平乃小差内减□【又】为□虚共　大差乃大股内减大差勾【又】为髙明共【又】大内去黄长　小差为大勾内减小差股【又】为平□共【又】为大内去黄广　极乃髙股平勾共【又】为平明共【又】为髙□共【又】为大差内减髙平二较【又】为小差内加髙平二较　虚乃皇极黄方靣【又】为明勾□股共【又】为髙内减明【又】为平内减□　明乃髙内减虚　□乃平内减虚
　　黄广黄长相并为大虚共也以此数减于大和余即虚和　若以二相减余即虚平共也【按虚平共此题数偶合当云二极差】　黄广【又】为大差虚共　黄长【又】为小差虚共　以黄长减于大勾余即虚勾　以黄广减于大股余即虚股
　　边底相并为大皇极共也于此并数内减大和余为皇极内减圆径也　若以二相减余即皇极差也此数同者最多故【又】为皇极内少个小差【又】为髙平较【又】为明股内少□勾【又】为大差内少皇极【又】为次差虚差共也边【又】为皇极股共【又】为黄广□共
　　底【又】为皇极勾共【又】为黄长明共也以边减大股余为半径内减平勾【又】为平内减小差勾也　底内减大勾余为髙股内减半径【又】为大差股内减髙也
　　黄广内减边股即□股　黄长内减底勾即明勾也
　　髙髙股共即边股　平平勾共即底勾　髙髙勾共即底股　平平股共即边勾
　　上髙减于通股余即边股内减□股也　下平减于通勾余即边勾内减明勾也　髙平相并即大内少个皇极也若以相并数减于大和余为皇极圆径共也　髙平相减余即皇极差也【又】为皇极上减小差也若以相减数却加于相并数即黄广也
　　髙内减明股得半径　平内减□勾亦同上皇极勾上加明为皇极　皇极股上加□亦同上
　　皇极　得极勾即底　得极股即边　内去极勾即明　去极股即□　减于通即极和　得虚亦同上　内去虚即明□共去虚黄即明和□和共也　去城径即傍差
　　内加极差即大差　去极差即小差　加角差即两个髙股　减角差即二平勾
　　太虚　加入极为极和　极内去之即明□二共　再去之则明大差□小差并也　加于大差即黄广　加于小差即黄长　内去明勾则□勾　加明勾为圆径内少虚黄□股共　加入明股为明和□股共　减于明股即明较内去□股　加入明为极股　减于明为明大差□小差内少个□　加于明和即两个虚一个髙差共也　减于明和即髙差也　内去□勾即明勾□较共【又】为□股平差共　加于□勾即□和明勾共　加于□股为二虚内少明勾【又】为圆径内少虚黄明勾共　内减□股即明勾　内加□即极勾　减于□为明勾内少个□小差　加入□和即两个虚内少个平差也　内减□和即平差也　加入明□二和共即极和内少个虚黄也　若减于明□二和共即明股□勾共也　减于髙即明减于平即□加于角差即二明勾一极差也　减于角差即一极差二□股较也　得傍差即明股□勾共内减傍差即太虚三事和内去了极双差也【按双】
　　【差系勾差股差】　内加虚差即二明勾　内减虚差即二□股　内加虚黄方即虚和　内减虚黄方即太虚大小差并也
　　右诸
　　大差小差共即两个极也以两个极差为之较　大差差小差差共即两个极差也以两个傍差为之较　大差上大差小差上大差共即两个明也以两个明差为之较　大差上小差小差上小差共即两个□也以两个□差为之较大差黄【按即二明勾】小差黄【按即二□股】数共即两个极黄【按即二虚】也以两个虚差为之较　大差勾小差勾共即两个极勾也以两个平差为之较　大差股小差股共即两个极股也以两个髙差为之较二和共为二极和以二角差为之较
　　大差上较较即圆径　小差上较和亦同上大差上小差即虚勾　小差上大差即虚股也大差与明勾共即边股　小差与□股共即底勾也　大差内减中差即黄长勾【按勾应作股】小差内加中差即黄广股也【按股应作勾】大股内减小差股即黄广股　大勾内减大差勾即黄长勾也虚得虚股即大差勾　虚得虚勾即小差
　　股也　明段较和即大差上勾较　明段较较即小差上勾较也　□段较和即大差上股较　□段较较即小差上股较也大差勾内减虚余即虚股　小差股内减虚余即虚勾也　以大差和减大股即虚勾　以小差和减大勾即虚股也　以大差差减圆径即明勾此差若多于圆径则内减圆径余即虚勾也【按此条因题数偶合而误若勾股差甚大甚小者皆不能合】　以小差差减圆径即小差也　大差上加一径即大股上加虚勾也　小差上加一径即大勾上加虚股也大差股内减髙余即髙股内减半径　平内减小差勾余即半径内减平勾也　大差内减虚差即二明差　小差内减虚差即二□差也
　　大内减大差股小差勾共即圆径　三事和内减二之大差股小差勾共即三个圆径也
　　大差勾小差股相并名混同即一圆径一虚也若以相减即虚差也
　　大差和小差和二数相并即大虚共也　二数相减即中差虚差共也【又】半之并数即为极虚共也【又】为髙平共【又】为皇极勾股共也
　　大差差小差差二数相并即两个皇极差【又】为大差内减小差也　二数相减而半之即是皇极上减圆径也【即傍差】
　　右大小差
　　大差差小差差虚差共为一个通差　髙平极三差共亦同上　明□虚三差共为一个极差也　诸黄方面亦仿此
　　边黄内减底黄即虚差　黄广黄内减黄长黄即二虚差　髙黄内减平黄即虚差盖髙黄即虚股平黄即虚勾也　大差黄内减小差黄即二虚差盖大差黄即二明勾小差黄即二□股也　明黄内减□黄余即虚差　□上三差合成一个虚黄方
　　髙差内减平差为傍差　边差内减底差亦同上明差内减□差亦同上　大差差内减小差差为二旁差　黄广差内减黄长差亦同上
　　极双差即明□二共　内加虚双差即明□二和共　内减虚双差即明双差□双差共也　内加旁差即极内少个虚旁差差　内减旁差即虚和也　内加虚差即极内少二□股　内减虚差则极内少二明勾也
　　极差内加旁差为大差差　内减旁差为小差差也内加虚差即角差　内减虚差即次差也　倍
　　极差为大差差小差差共则倍旁差为之较　倍极为大差小差共倍极差为之较　以极差为明差平差共则以蓌差为之较　以极差为髙差□差共则以蓌和为之较　副置蓌和上加蓌差而半之即旁差也　减蓌差而半之则虚差也　极差内减二之平差得蓌差
　　角差内加旁差为二髙差　内减旁差即二平差也内加明□二差并而半之得极差　内减明□
　　二差而半之则虚差也　内加极差则通差　内减极差则虚差也
　　以虚差减于明和为明□二股共　以虚差加于□和为明□二勾共也　又副置二和共上加次差而半之即明□二股共　减次差而半之即明□二勾共也　明□二股共以髙差为之较　明□二勾共以平差为之较
　　以髙差减明和即虚　以平差加□和亦同上以髙差减髙股即半径　以平差加平勾亦同上以髙差减大差差即明差　以平差减小差差
　　即□差也　以髙差减大差即髙　以平差加小差即平也　二之平差内去虚差余即小差差　去二虚差即两个□差
　　髙股即半径上股方差　平勾即半径上勾方差故髙勾平股共为全径也　黄广股即全径上股方差　黄长勾即全径上勾方差　故黄广勾黄长股共数为两个全径也
　　边内减底即皇极差　边股内减底股即髙差【又】为底内减大勾　边勾内减底勾即平差【又】为大股内减边也
　　大勾减底余即半径为勾之中差也　大股内减边余即半径为股之中差也　边股底勾相并即大　若以相减即通中差也
　　二髙股一虚差合成一个股圆差　二平勾一虚差合成一个勾圆差【按此二条误当云二明股一虚股合成一个股圆差　二□勾一虚勾合成一个勾圆差也】
　　明双差亦为明□二大差其较则明差也　□双差亦为明□二小差其较则□差也　明双差内减明差即虚黄　□双差上加□差亦同上　以明双差加明和即两明　以□双差加□和则两□也　以明双差减明和而半之即明黄【又】为虚大差　以□双差减于□和而半之即□黄【又】为虚小差也　以虚大差减明和即为明　以虚小差减□和即□也　明双差□双差相较则次差也　明双差□双差相并加于明□二和共则为两个极双差　若以减于明□二和共则为两个虚双差也　明双差上加虚双差即明□二股共　□双差上加虚双即明□二勾共也
　　以明□二股共为明□黄共则髙差虚黄共为之较【按明又□黄较】为明大小差虚大小差共则明□二股共内去两个虚双差为之较也【按明大小差虚大小差之较】以明□二勾共为□明黄共则以平差虚黄
　　较为之较【又】为□大小差虚大小差共则明□二勾共内减两个虚大小差为之较也【按虚大小差□大小差之较】
　　明□二和共内减旁差即二虚　虚内加旁差明股□勾共也
　　明和内去平差即明股□勾共　□和上加髙差亦同上也　明和内去髙差即虚　□和上加平差亦同上　明内去髙差即虚勾　□上加平差即虚股也　明股内去□股即髙差　去□勾则极差也　明勾内去□股即虚差　去□勾则平差也
　　明□二股并内减虚即明差　明□二勾并减于虚即□差
　　明□二和共【又】为明□二共与明□二黄共数也其较则明双差□双差共数也　其明□二和共数内减旁差即二虚也　若内减虚双差即明□二共也
　　极得极差为大差大差内减明和则髙内减虚大差也　内减极差则为小差小差内减□和则是平内减虚小差也　又大差内减明和与髙股共余则为虚勾不及明勾数　小差内减□和与平勾共余则为□股不及虚股数也
　　右诸差
　　边勾边股差【又】为皇极差与髙差共也【又】为边内去大勾也　边勾边共【又】为大勾边股共　边勾边较【又】为大差内减半径也　边股边较【又】为□股和
　　底勾底股差【又】为皇极差平差共【又】为大股内去底【又】为髙股内去底小差　底勾底共为大内少个底股大勾差　底勾底较【又】为明上勾弦和　底股底共与边勾边共同　底股底较【又】为底勾内少小差股也
　　边股内减髙余则髙股　内减大差余则明勾内减底即底股内减大勾也【又】为髙内减
　　底勾也
　　底勾内减平余即平勾　内减小差余即□股以底勾减于边余即大股内减边勾也【又】为
　　边股内减平也
　　边内减底股与底内减边勾同为皇极内减半径也
　　皇极勾内减明勾余即平勾也若减□勾即半径也倍之则为底勾明勾共　皇极股内减□股余即髙股也若减明股余即半径也倍之则为边股□股共也
　　明股得虚股即髙股　明勾得虚勾即半径　□股得虚股即半径　□勾得虚勾即平勾也　髙内减髙股即□股　平内减平勾即明勾也明内减明差即虚股　□内加□差即虚勾也　髙股即虚明二股共　平勾即虚□二勾共也　明明勾并数与髙股同　□□股并数与平勾同也
　　明股□勾相倂减于极即虚和【又】为极黄虚黄共数也
　　明□二并　内减□双差即明□二股并　内减明双差即明□二勾并　内加虚即极　内减虚即明大差□小差并也
　　以明和为明明黄共则明双差为之较　以□和为□□黄共则□双差为之较也　明和【又】为髙差虚共【又】为极差与明□二勾共数　□和【又】为平差少于虚数【又】为极差少于明□二股数
　　半之三事和内加半黄方即勾股共　若减之则也　半圆径内加半虚黄即虚和　减半虚黄即虚也【又】以半虚黄加明和即髙股以半虚黄加□和即平勾也　加明股则明　加□股则□也　减明勾则明黄　减□股则□黄也　以虚黄加明黄则为虚股　以加□黄则虚勾也
　　右诸率见
　　髙□共为极其差即虚极差共也　髙股□股共为髙其差即虚股髙差共也　髙勾□勾共为平其差即半径内减□勾也　髙和□和共为极和其差即极和内少二□和也　髙差□差共为极差其差即虚差旁差共也　髙黄□黄共为虚其差即□黄不及虚股数也【髙黄即虚股】髙大差□大差共即明其差即半虚黄不及明股数也此髙大差即明股此□大差即半虚黄也髙小差【即□股】□小差共即□其差即□小差
　　不及□股数也　明平二共亦为极其较即虚不及极差数也　明平二股共亦为髙其较即明股内减半径也　明平二勾共亦为平其较即平差内去虚勾也　明平二和共亦为极和其较即极和内少二之平和也　明平二差共亦为极差其较即虚差不及旁差数也　明平二黄共亦为虚其较则虚勾【按虚勾即平黄】不及明黄数也　明平二大差共亦为明其较即明勾不及明大差数【平大差即明勾】　明平二小差共亦为□其较则□勾不及半虚黄数也此明小差即半虚黄此平小差即□勾
　　右四位相套
　　边　自减其股为平勾　自减其勾为明股明并　减于通余平　减于通股余平差　内减通勾余边差　内减底余极差　内减底股为半径旁差共【又】为极内少半径　内减底勾即大股内去边勾也　内减黄广余□　内减黄广股即小差股内去平差　内减黄广勾即大差股内去平差　内减黄长【又】得黄长【按此条误】　内减黄长股与内减黄广勾同　内减黄长勾即大股内去极勾虚勾共　内减皇极余髙
　　底　自减其股为□勾□并　自减其勾为髙股　减于通余髙　减于通股余底差　内减通勾余髙差　减于边余极差　减于边股即底差内去半径　内减边勾即髙差平勾共减于黄广余为明大差□小差并【按此条亦系数偶合】减于黄广股即底差内去小差股　内减黄广勾即一个明一个黄长股较　内减去黄长余明　内减黄长股与内减黄广勾同　内减黄长勾余为髙股明勾共　内减极为平减于边股【又】为底股内去大勾
　　髙差平差共【又】为平勾髙股差　以半径减髙股即髙差　半径内减平勾即平差　明勾内减□勾与平差同　明股内减□股与髙差同　股圆差内减极股即髙差也　勾圆差减于极勾即平差正股内去边即平差也　底内去正勾即
　　髙差也　大差勾内去极勾即平差也　极股内去小差股即髙差也　极差内去□差即髙差也内去明差即平差也
　　旁差即城径极较也【又】为明差□差较【又】为髙差平差较　极差得之为大差差也去之则为小差差也
　　又髙差平差下　明和内去虚即髙差　虚内去□和即平差
　　大差内加虚差即黄广股　小差股内减虚差即黄长勾
　　通差内去髙差即底差　内去平差即边差也虚大差得二虚勾即勾圆差之股　虚小差得二虚股即股圆差之勾也
　　明股较与勾共即虚股也　□勾较与股共即虚勾也
　　半虚黄　□勾得之即□也减于此数即虚黄内去□也　□股得之虚勾也去之即□黄方也□得之即平勾内去□黄也去之则□勾也明勾内得之即虚股也去之则明黄方也　明
　　股得之即明也去之则明内去个虚黄方也明得之即髙股内去明黄也去之则明股也右拾遗
　　按识别杂记约五百条皆随时録其所得未经审定者故难易浅深不拘先后要皆精思妙义足以开示数理之蕴奥者徐光启亟新法而于勾股义中独推是书其必有所见矣

　　测圆海镜卷一
　　钦定四库全书
　　测圆海镜卷二
　　元　李冶　撰
　　正率一十四问
　　假令有圆城一所不知周径四面开门门外纵横各有十字大道其西北十字道头定为干地其东北十字道头定为艮地其东南十字道头定为防地其西南十字道头定为坤地所有测望杂法一一设问如后
　　或问甲乙二人俱在干地乙东行三百二十步而立甲南行六百步望见乙问径几里
　　答曰城径二百四十步
　　法曰此为勾股容圆也以勾股相乗倍之为实并勾股幂以求复加入勾股共以为法
　　草曰置甲南行六百步在地以乙东行三百二十步乘之得一十九万二千步倍之得三十八万四千步为实以乙东行步自之得一十万零二千四百步为勾幂以甲南行步自之得三十六万步为股幂二幂相并得四十六万二千四百步为方实以平方开之得六百八十步则也以加勾股共共得一千六百步以为法如法而一得二百四十步则城径也合问
　　或问甲乙二人俱在西门乙东行二百五十六步甲南行四百八十步望见乙问答同前
　　法曰此为勾上容圆也以勾股相乘倍之为实并勾股幂以求加入股以为法
　　草曰置甲南行四百八十步在地以乙东行二百五十六步乘之得一十二万二千八百八十步倍之得二十四万五千七百六十步为实以乙东行步自之得六万五千五百三十六步为勾幂以甲南行步自之得二十三万零四百步为股幂勾股幂相并得二十九万五千九百三十六步为方实以平方开之得五百四十四步为也以加入南行步共得一千零二十四步以为法而一得二百四十步则城径合问
　　或问甲乙二人俱在北门乙东行二百步而止甲南行三百七十五步望见乙问答同前
　　法曰此为股上容圆也以勾股相乘倍之为实以勾股幂求加入勾以为法
　　草曰置甲南行三百七十五步以乙东行二百步乘之得七万五千步倍之得一十五万步为实以乙东行自之得四万步为勾幂以甲南行自之得一十四万零六百二十五步为股幂勾股幂相并得一十八万零六百二十五步为方实如平方而一得四百二十五步则也加入乙东行二百步共得六百二十五步以为法以法除之得二百四十步则城径也合问
　　或问甲乙二人俱在圆城中心而立乙穿城向东行一百三十六步而止甲穿城南行二百五十五步望见乙问答同前
　　法曰此为勾股上容圆也以勾股相乘倍之为实并勾股幂如法求以为法
　　草曰以二行步相乘得三万四千六百八十步倍之得六万九千三百六十步为实置乙东行自之得一万八千四百九十六步为勾幂又以甲南行自之得六万五千零二十五步为股幂二幂相并得八万三千五百二十一步为方实以平方开之得二百八十九步即也便以为法如法除实得二百四十步即圆城之径也合问
　　或问甲乙二人同立于干地乙东行一百八十步遇塔而止甲南行三百六十步回望其塔正居城径之半问答同前
　　法曰此为上容圆也以勾股相乘倍之为实以勾股和为法
　　草曰以二行步相乘得六万四千八百步倍之得一十二万九千六百步为实并二行步得五百四十步以为法除实得二百四十步即城径也合问
　　或问甲乙二人俱在坤地乙东行一百九十二步而止甲南行三百六十步望乙与城防相直问答同前法曰此为勾外容圆也以勾股相乘倍之为实以较和为法
　　草曰以二行步相乘得六万九千一百二十步倍之得一十三万八千二百四十步为实置乙东行自之得三万六千八百六十四步为勾幂又置甲南行自之得一十二万九千六百步为股幂二幂相并得一十六万六千四百六十四步为方实以平方开之得四百零八即也又置甲南行步内减乙东行步余一百六十八步即较也以较加共得五百七十六步以为法实如法而一得二百四十步为城径也合问
　　按此题用勾股求得即可加减得较较为城径今必以勾股相乘倍积为实求得加减得较和为法而后始得较较为城径者盖欲因此并明勾股相乘之倍积为较较较和相乘之积非故为纡廻也
　　或问甲乙二人同立于艮地甲南行一百五十步而止乙东行八十步望乙与城防相直问答同前
　　法曰此为股外容圆也以勾股相乘倍之为实以较较为法
　　草曰二行步相乘得一万二千倍之得二万四千步为实以甲南行自之得二万二千五百步为股幂又以乙东行步自之得六千四百步为勾幂勾股幂相并得二万八千九百步为方实以平方开之得一百七十步即也以二行步相减余七十步为勾股较也以此较又减余一百步即较较也便以为法实如法而一得二百四十步即城径也合问按此题系较和为城径其用法实以较取和之意与上题同
　　或问甲乙二人同立于防地乙西行四十八步而止甲北行九十步望乙与城防相直问答同前
　　法曰此为外容圆也勾股相乘倍之为实以和较为法
　　草曰以二行步相乘得四千三百二十步倍之得八千六百四十步为实以甲北行自之得八千一百步为股幂又以乙西行自之得二千三百零四步为勾幂并二幂得一万零四百零四步为方实以平方开之得一百零二步为也又并二行步得一百三十八步为和以减和余三十六步得黄方以为法实如法而一得二百四十步即城径也合问
　　按此题和和即城径其以勾股相乘倍积为实黄方为法者亦以明和和黄方相乘之积与勾股相乘之倍积为相等也
　　或问甲乙二人俱在南门乙东行七十二步而止甲南行一百三十五步望乙与城防相直问答同前法曰此为勾外容圆半也以勾股相乘倍之为实以大差为法
　　草曰以二行步相乘得九千七百二十步倍之得一万九千四百四十步为实又以乙东行自之得五千一百八十四步为勾幂又以南行自之得一万八千二百二十五步为股幂二幂相并得二万三千四百零九步为方实以平方开之得一百五十三步即也以乙东行七十二步为勾以减余八十一步即勾差也便以为法实如法而一得二百四十步即城径也合问
　　或问甲乙二人俱在东门甲南行三十步而止乙东行一十六步回望甲与城防相直问答同前
　　法曰此为股外容圆半也以勾股相乘倍之为实以小差为法
　　草曰以二行步相乘得四百八十步倍之得九百六十步为实又以乙东行自之得二百五十六步为勾幂又以甲南行自之得九百步为股幂二幂相并得一千一百五十六步为方实以平方开之得三十四步即也以甲南行三十步为股以减余四步以为法以法除实得二百四十步即城径也合问
　　或问甲出西门南行四百八十步而止乙出东门南行三十步望见甲问答同前
　　法曰此为半矮梯也以二行步相乘为实如平方而一得半径
　　草曰以二行步相乘得一万四千四百步为实以平方开之得一百二十步倍之即城径也合问
　　又问甲乙二人乙出南门折而东行七十二步而止甲出北门折而东行二百望见乙问答同前
　　法曰以二行步相乘得数四之为实如平方而一得城径
　　草曰二行步相乘得一万四千四百步又四之得五万七千六百步为实以平方开之得二百四十步即城径也合问
　　又假令乙出南门折东行二十步甲出北门折东行七百二十步如此之类亦同上法【以上三问是以半矮梯求之】按右三题通为一问
　　或问甲乙二人乙在艮地东行八十步而立甲在坤地南行三百六十步望见乙问答同前
　　法曰此为两差求黄方也以二行步相乘倍之为实以平方开得城径
　　草曰二行步相乘得二万八千八百步倍之得五万七千六百步为实以平方开之得二百四十步即城径也合问　别得甲南行即股圆差也乙东行即勾圆差也
　　或问甲出东门四十八步而立乙出南门四十八步见之问答同前
　　法曰此当以方五斜七求之每出门二步管径十步草曰置出门步在地以五之得二百四十步即城径也据此法合置出门步在地以十之二而一以二数相折故五因便是合问
　　按方五斜七古率非密率也设问以尽此题之变故率之踈密勿论
　　或问出西门南行四百八十步有树出北门东行二百步见之问答同前
　　法曰以二行步相乗为实二行步相并为从二步常法得半径
　　草曰立天元一为半径置南行步在地内减天元半径得□□为股圆差【按斜画者少之记也□□是为四百八十步少一元也下仿此】又置乙东行步在地内减天元得下式□□为勾圆差以勾圆差乘股圆差得丨□□【按丨□□为一平方少六百八十元多九万六千步】为半段黄方幂即城幂之半也【寄左】又置天元幂以倍之得□□亦为半段黄方幂与左相消得丨□□如带纵法之得半径合问【按相消者取上两相等之数同加减相等之数使一为步数一为方元数仍相等也如寄数内减一平方加六百八十元则得九万六千步又数内亦减一平方加六百八十元则得一平方六百八十元是为一平方六百八十元与九万六千步等故其式为丨□□旧稿方元数皆作斜画以别之然遇方元数有多少异号者殊混人目今不用】
　　又法识别得二行并即大也立天元一为半径置甲南行步加天元一得□□为大股又置乙东行步加天元得□□为大勾也勾股相乘得丨□□为一个大直积以天元除之得下式□□□为三事和【寄左黄方除倍积得三事和今以半黄方除直积亦为三事和也】然后并二行步又并入勾股共得□□为同数与左相消得□□□以带纵平方开之得一百二十步倍之得全径也合问按是书皆先法后草草者以立天元一推衍而得其方元积数者也法者又取推衍中之支节条目融防而归于简约者也草者法之本法者草之用法使人易于推步而草则存其义以俟知者二者相须不可偏废顾应祥仅演其开方乘除之数而去其细草盖亦不得其理矣
　　按元时未有笔算故加减乘除之式不能详载观者遂以为无下手处今借根方法既明视此则涣如氷释矣












　　测圆海镜卷二
　　钦定四库全书
　　测圆海镜卷三
　　元　李冶　撰
　　边股一十七问
　　或问乙出东门南行不知歩数而止甲出西门南行四百八十歩望见乙复就乙行五百一十步与乙相防问答同前
　　法曰倍相减步以乘二之甲南行步为平方实得城径
　　草曰识别得二行相减余三十步即乙出东门南行步也倍相减步得六十步以乘二之甲南行步九百六十步得五万七千六百步为平方实如法开之得二百四十步即城径也合问
　　或问甲出西门南行四百八十步而止乙从艮隅东行八十步望见甲问答同前
　　法曰倍南行步以东行步乘之为实东行歩为从方一步常法得全径
　　草曰立天元一为全径以减于二之甲南行步得□□为两个大差也以乙东行步乘之得□□为圆径幂【寄左】然后以天元幂与左相消得丨□□以带纵平方开之得二百四十步即城径也合问
　　又法半之乙东行步乘南行步为实半之乙东行步为从一步常法得半径
　　草曰立天元一为半城径减甲南行步得□□为大差也以半之东行步乘之得□□即半径幂【寄左】然后以天元幂为同数与左相消得丨□□开带纵平方得一百二十步倍之即城径也合问
　　或问甲出西门南行四百八十步而止乙从艮隅亦南行一百五十步望见甲问答同前
　　法曰两行步相乘为实南行步为从方一为隅得半径
　　草曰立天元一为半城径以减乙南行步得□□为半梯头以甲行步为梯底以乘之得□□为半径幂【寄左】然后以天元幂与左相消得丨□□开带纵平方得一百二十步倍之即城径也合问
　　或问甲出西门南行四百八十步乙出东门直行一十六步望见甲问答同前
　　法曰以四之东行步乗南行幂为实从空东行为亷一步为隅法得全径
　　草曰立天元一为圆径加乙东行步得□□为中勾其甲南行即中股也置东行步为小勾以中股乘之得□合以中勾除今不受除便以为小股也【内寄中勾分母】乃复以中股乗之得三百六十八万六千四百又四之得一千四百七十四万五千六百为一段圆径幂【寄中勾分母寄左】然后以天元径自之又以中勾乘之得□□为同数与左相消得丨□□□以纵立方开之得二百四十步为城径也合问
　　按不受除者无可除之理也凡二数此数于彼数有可除之理则受除无可除之理则不受除也盖除有法有实实可二法不可二此题以中勾为法而中勾内有一元又有十六步其为数已二矣又何以均分不一之数乎故曰不受也寄分者姑寄其应除之数也俟求得两相等数而此数内尚少一除不除此而转乘彼则两数仍相等犹之受除者也此所谓以乘代除也
　　或问乙出南门东行七十二步而止甲出西门南行四百八十步望乙与城防相直问答同前
　　法曰以乙东行幂乗甲南行为实乙东行幂为从方甲南行步内减二之东行步为益亷一步常法得半径
　　草曰立天元一为半城径以减南行步得□□为小股又以天元加乙东行步得□□为小勾又以天元加南行步得□□为大股乃置大股在地以小勾乘之得下式丨□□合以小股除之今不受除便以为大勾【内寄小股分母】又置天元半径以分母小股乘之得□□以减大勾得□□□为半个梯底于上以乙东行七十二步为半个梯头以乘上位得□□□为半径幂【内寄小股分母】寄左然后置天元幂又以分母小股乘之得□□□为同数与左相消得□□□□以立方开之得一百二十步倍之即城径也合问
　　又法曰以二数相乘为实相减为从一虚法平开得半径
　　草曰别得二数相并为大股内少一虚勾其二数相减为大差也立天元一为半径副置之上位减于四百八十得□□为股圆差【即大差股也】下位加七十二得□□与股圆差相乘得下式□□□为一大差积【寄左】再以大差勾减于大差股余□□为较又加入大差四百单八共得□□为较共也以天元乘之得□□为同数与左相消得□□□以平方开之得一百二十步即半径合问　前法太烦故又立此法以就简也
　　或问乙出南门东行不知步数而立甲出西门南行四百八十步望见乙与城防相直又就乙行四百零八步与乙相防问答同前
　　法曰二行步相减以乘甲南行步为实甲东行步内减相减步为益方一步常法得半径
　　草曰识别得二行相减余七十二步即是乙出南门东行数也更不湏用遂立天元一为半城径加乙东行得□□为小勾也副置南行步上减天乙得□□为小股下加天元得□□为大股乃置大股以小勾乘之得下式丨□□合以小股除之今不受除便以此为大勾也【内带小股分母】又倍天元以小股乘之得下式□□以减于大勾得□□□为勾圆差也合以股圆差乘之縁此勾圆差内已带小股分母【小股即股圆差也】更不湏乘便以此为半段黄方幂【更无分母也】寄左乃以天元自之又倍之得□□为同数与左相消得□□□以平方开之得一百二十步倍之即城径也合问
　　或问乙出东门直行不知歩数而止甲出西门南行四百八十步望见乙复就乙斜行五百四十四步与乙相会问答同前
　　法曰半南行步减半斜行步以乘南行步为实从方空半斜行半南行相减得数加入南行步为隅法得半径
　　草曰识别得二行相减余六十四步即半径为股之勾也立天元为半径就以为小股其二行相减余六十四步即小勾也乃置甲南行步加天元得下式□□为大股以小勾乘之得□□又以小股除之得□□为大勾又倍天元一减之得下式□□□为勾圆差也半之得□□□于上乃以天元减甲南行步得□□为股圆差以乘上位得丨□○□为半径幂【寄左】然后以天元幂与左相消得下式□□□以平方开之得一百二十步倍之即城径也合问
　　按此问以小股为除法盖因小股只一天元其数不二犹有可除之理也然得数降于实数之下者皆不可以命名至开方时仍湏各升一位以计之是两边各加一乘犹是寄分之理也
　　又法以二数差乘二数并开方得边勾复以边股乘之为实并二数而半之为法实如法得二百四十步即城径【此盖用前勾上容圆法也】
　　或问乙从干地东行不知几步而止甲出西门南行四百八十步望见乙复就乙斜行六百八十步与乙相防问答同前
　　法曰并二行数以二行差乘之内减二行差幂为实并二行步及二行差为从方二步常法得半径草曰识别得二行相减余二百步即半圆径与小差勾之共数也立天元一为半城径加于二百步得□□为大勾也又以天元加于甲南行步四百八十得□□即大股也乃以大勾自之得丨□□为勾幂【寄左】乃置乙斜行六百八十步为大加入大股共得□□于上再置二行差内减天元得□□为小差勾即股较以乘上位得□□□为同数与左相消得□□□以平方开之得一百二十步倍之即城径也合问
　　又法求小差二行相减以自之又四之为实二行相减八之于上二之南行步内减二之二行相减数又以加上位为益方二步常法
　　草曰立天元一为小差减二行差得□□为半城径以自之得丨□□又四之得□□□为圆径幂【寄左】然后以半城径减于甲南行得□□又倍之得□□为两个大差也又以天元乘之得□□○为同数与左相消得下式□□□以平方开之得八十步为小差也
　　或问乙出南门南行不知步数而立甲出西门南行四百八十步望乙与城防相直复就乙斜行二百五十五步与乙相防问答同前
　　法曰甲南行内减二之两行差余以乘甲南行又倍之为实二步为隅得半径
　　草曰别得二行步相减余二百二十五步乃是半径为勾之股也立天元一为半城径就以为小勾率其二行差二百二十五步即为小股率乃置甲南行步加入天元得□□为大股以天元小勾乘之得丨□合以小股除今不受除【按此所谓不受除乃其数竒零不能尽非无可除之理也与前辞同而意异】便以此为大勾【内寄小股分母】乃倍天元以小股乘之得□以减大勾余丨□为一个小差于上【内寄小股分母】乃以天元减甲南行步得□□为大差也以乘上位得□□□又倍之得□□□为圆径幂【内寄小股分母】寄左然后倍天元以自之又以小股乘之得□□为同数与左相消得□○□以平方开之得一百二十步倍之即城径也合问
　　按此题止用股求勾法即得城半径其必展转数次而后始得者益见其为发明立天元一之术使人易晓也后多有仿此者
　　或问乙出南门直行一百三十五步而止甲出西门南行四百八十步望乙与城防相直问答同前
　　法曰二行步相减余以自乘内减乙行幂为实二之甲南行为益从一步常法得半径
　　草曰立天元一以为半径便以为勾率又以天元加乙行步并以减于甲行步得□□为股率乃置乙南行步一百三十五步为小股以勾率乘之得□合以股率除之今不受除乃便以此为小勾【内寄股率分母】又置乙南行步加二天元得□□为大股以勾率乘之得□□合以股率除之今不受除便以此为大勾【内寄股率分母】以小勾大勾相乘得□□□为半径幂【内带股率幂为分母】寄左然后置天元以自乘又以股率幂乘之得丨□□□为同数与左相消得□□□以平方开之得一百二十步倍之即城径也合问
　　按此草得数为九百六十立方少一三乘方与十万零八百平方等皆虚数也各降二位即如各以平方除之乃为九百六十元少一平方与十万零八百步等两数等所降之位又等则两数仍相等而实积步数乃出矣故可以带纵平方开之也此系降位而得实数者与前升位而得实数者其理互相发明草中不言盖以为不待于言也
　　或问甲乙二人同出西门向南行至西南十字道口分路乙折东行一百九十二步而立甲又南行甲通行四百八十步望乙与城防相直问答同前
　　法曰两行相乘得数又以乙东行乘之为实二行相乘于上位又置乙东行以二行相减数乘之得数加上位为法
　　草曰立天元一为半城径副置上位加南行步得□□为大股也下位减于甲行步得□□为小股也其乙东行即小勾也置大股以小勾乘之得□□内寄小股□□为母便以为大勾也置天元以母通之得□□减于大勾得丨□□为半个矮梯底于上再置乙东行内减天元得下式□□为半个矮梯头以乘上位得下式□□□□为半径幂寄左再置天元以自之为幂又以分母乘之得□□□为如积与左相消得□□上法下实得一百二十步即城之半径也合问
　　按草中相消法皆得两边数此独得一边二数盖此条共数比彼条共数少一数又多一数为相等则多少二数其必为相等无疑矣多少数多者亦仿此此又相消法中之一变也
　　又法二行步相乘为实倍甲南行内减乙东行为法草曰立天元一为半城径副置上位加甲南行得□□为大股下位减甲行步得□□为小股便是股圆差也其乙东行即小勾也置大股以小勾乘之得□□内寄小股□□为母便以为大勾也再置天元以二之又以分母乘之得□□为全径以减于大勾余□□□为勾圆差也合以股圆差乘之縁内已有小股分母不湏乘便以此为两段之半径幂也更无分母【寄左】然后置天元幂以二之得□□为如积以左相消得□□上法下实得一百二十步即半城径也合问
　　或问见边股四百八十步□三十四步问答同前【此题在甲乙二人同出西门南行至十字道乙折东行一百九十二步而立甲又南行甲通行四百八十步望见乙与城防相直之后】
　　法曰□乘边股半之为实半□半边股相并为从半步隅法平方得□股
　　草曰立天元一为□股加□得□□为平勾也又以天元减边股而半之得□□为髙股也平勾髙股相乘得□□□为半径幂【寄左】然后以天元乘边股得□为同数与左相消得下式□□□开平方得□股三十步以乘边股开平方倍之即圆城径也合问按此问原稿在三卷末
　　或问见边股四百八十明一百五十三问答同前法曰二云数相减复倍之内减边股复以边股乘之于上又以明幂乘上位为实以边股乘明幂又二之为从二云数相减余以自之为第一亷二云数相减又倍之为第二益亷一常法开三乘方得明勾草曰立天元一为明勾加明得□□为髙股也以髙股减边股余□□为髙以倍之得□□为黄广也内减边股得□□为□股复以边股乘之得□□于上又以明自乘得二万三千四百零九为分母以乘上位得□□为分半径幂【寄左】然后置黄广以天元乘之得□□复合以明除之不除寄为母便以此为全径又半之得□□为半径以自之得□□□为同数与左相消得下式丨□□□□开三乘方得七十二步即明勾也余各依法求之合问
　　又法边股内减二明以边股乘之复以明幂乘之为三乘方实亷从并同前
　　草曰识别得二数相减余为髙股虚共又为髙明勾共此余数内又去半径即明和也明和明相并即股圆差相减则明黄方也又倍明加明黄亦得股圆差也边股内减明勾余即大差也立天元一为明勾减于云数相减数得□□即髙也以髙减边股得□□即髙股也以髙股减于云数相减数得□□即虚也以天元又减虚得□□即□股也乃置髙以天元乘之得□□合明除之不受除便以此为髙勾也【即半径】髙勾自之得丨□□□为半径幂【内带明幂分母】寄左然后置边股以□股乘之得□□为半径幂又以明幂二万三千四百零九分母通之得□□为同数与左相消得实从亷隅五层如前式
　　或问边股四百八十步髙二百五十五步问答同前法曰以边股减于二之髙复以边股乘之开平方得半径
　　草曰立天元一为半径先倍髙内减边股余□复以边股乘之得□□寄左以天元幂与左相消得丨□□开平方得数倍之即城径也合问
　　或问边股四百八十步平一百三十六步答问同前法曰置平以边股再乘之为实以边股自之为益从平为益亷一虚隅开立方得半径
　　草曰别得平即皇极勾也立天元一为半径副之上位加平得□□即边勾也下位减于平得□□即□勾也置□勾以边股乘之得□□合边勾除今不受除寄为母便以此为□股乃以此边股乘之得□□为半径幂【内边勾分母】寄左然后以天元为幂以分母边勾乘之得丨□□为同数与左相消得丨□□□开立方得一百二十步倍之即城径也合问
　　或问边股四百八十步明股明和二百八十八步问答同前
　　法曰以云之云数相减余加边股复以减余乘之讫又折半于上又以减余自之减上位为实并云数半之为法得明勾
　　草曰别得二数相减余为大差勾立天元一为明勾减于大差勾得□□即半径也又以天元减半径得□□为虚勾于上又以半径加边股得□□为通股于下上下相乘得□□□折半得丨□□为半径幂【寄左】然后以半径幂丨□□为同数与左相消得□□上法下实得七十二步即明勾也合问
　　或问见边股四百八十步□勾□和五十步问答同前
　　法曰半边股半和步相并得为泛率以泛半减边股以自之又二之于上以和步乘泛率减上位为实以泛率减边股六之于上内又加半个边股三个和步为益从三步常法得□股
　　草曰别得和步得□股即小差也小差边股共即二中差【按此句误】立天元一为□股加和步得□□即小差也以小差加边股而半之得□□即中差也中小差相并得□□即大差也以小差乘之得□□□为半段径幂【寄左】然后置边股内减大差得□□为半径以自之得□□□又倍之得下式□□□与左相消得下式□□□开平方得三十步即□股也合问按草云以小差边股共即二中差有误盖中差即勾股较小差即股较边股即勾较与容圆半径和若设勾二十股二十一二十九则勾较九容圆半径六并之得十五为边股股较八为小差小差边股共得二十三勾股较一为中差倍之仅得二则相差二十一矣是知细草乃因题数之偶合而误非正法也今依其术另设法草于后以补其阙
　　法曰以□勾和自之边股再乘为实倍边股加□勾和再以□勾和乘之为从又倍□勾和减边股余为益亷一为隅纵立方开之得□股草曰别得边股即髙股和□股即髙股差□股和即平勾也立天天一为□股自之得丨□应以□勾和除之不除便以为□勾较【内寄□勾和分母】转以□勾和自之得□为□勾和加□勾较得丨○□为倍□又以□勾和分母乘倍□股得□为倍□股与倍□相加得丨□□为倍□股和即倍平勾又于边股内减□股得□□为倍髙股倍髙股倍平勾相乘得□□□□为圆径幂寄左又以边股□股相乘得□为半径幂四因之得□为圆径幂又以□勾和分母乘之得□为同数与左相消得丨□□□开带纵立方得□股三十步合问



　　测圆海镜卷三
<子部,天文算法类,算书之属,测圆海镜>
　　钦定四库全书
　　测圆海镜卷四
　　元　李冶　撰
　　底勾一十七问
　　或问乙出南门东行不知步数而立甲出北门东行二百步见之就乙斜行二百七十二步与乙相防问答同前
　　法曰二行差数乘甲东行又四之为平方实得全径草曰识别得二行相减余即乙出南门东行数也以甲东行减于就乙斜行余七十二步以乘甲东行歩得一万四千四百步又四之得五万七千六百步为实以平方开之得二百四十步即城径也合问
　　或问乙从坤隅南行三百六十步甲出北门东行二百步见之问答同前
　　法曰二行步相乘倍之为实乙南行为从一步常法得城径
　　草曰立天元一为城径以减于二之甲东行步得【□】□为两个小差以乙南行步乘之得□□为城径幂【寄左】然后以天元幂丨□与左相消得丨□□以平方开之得二百四十步即城径也合问
　　又法半之乙南行步乘甲东行为实半乙南行为从一步常法得半径
　　草曰立天元一为半城径减甲东行得□□为小差半乙南行步得一百八十步以乘小差得□□为半径幂【寄左】然后以天元幂丨□与左相消得下式丨□□以平方开之得一百二十步倍之即城径也合问
　　或问乙从坤隅东行一百九十二歩而止甲出北门东行二百步见乙问答同前
　　法曰两行步相乘为实甲东行为从乙为隅得半径草曰立天元一为半径减于乙东行得□□以甲行步乘之得□□为半径幂【寄左】然后以天元幂丨□与左相消得丨□□以平方开之得一百二十步倍之即城径也合问
　　或问乙出南门直行一百三十五步甲出北门东行二百步见乙问答同前
　　法曰以乙南行步乘甲东行幂又四之为实从空乙行为亷一步常法得城径
　　草曰立天元一为城径加乙南行得□□为股率其甲东行即勾率也其乙南行□为小股以勾率乘之得□合以股率除今不除受便以此为小勾【寄股率为母】乃以甲东行步乘之得□　又四之得□为一段城径幂【寄左】然后以天元城径自之又以股率分母通之得丨□□为同数与左相消得下式丨□□□以立方开之得二百四十步即城径也合问
　　又法二行相乘又以自乘为实以二行相乘倍之为益方南行幂为亷八步益隅立方开得小勾七十二草曰立天元一为小勾以南行为小股以东行二百步为大勾也置大勾内减天元得□□为中勾也以小股乗之得□□以天元小勾除之得□□为中股即城径也以自之得□□□为城径幂也【寄左】又以天元小勾乘通勾二百步得□又四之得□为同数与左相消得□□□□开立方得七十二步即小勾也以乘通勾二百步为实平方开得一百二十步倍之即城径也合问
　　又法求半径以南行步乘东行幂为实从空东行步为亷二步常法得半径
　　草曰立天元一为半径以二之加南行步得□□为股率以东行□为勾率以南行为小股也置小股以勾率乘之得□以股率除之不受除只寄股率分母便以此为小勾也又以勾率乘之得下式□为半径幂【寄左】再立天元半径以自之又以分母股率乘之得□□□为同数与左相消得□□□□开立方得一百二十步倍之即城径也合问
　　或问乙出东门南行三十步而止甲出北门东行二百步望乙与城防相直问答同前
　　法曰以甲东行步乗乙南行幂为实以乙南行幂为从甲东行内减二之乙南行为益亷一步隅得半径草曰立天元一为半城径减于甲东行步得□□为小勾以天元加于乙南行步得□□为小股乃以天元加东行步得□□为大勾置大勾以小股乗之得丨□□合以小勾除之今不受除便以此为大股【内带小勾分母】又置天元半径以分母小勾乘之得□□减于大股余□□□以乙南行步乗之得□□□为半径幂【内有小勾分母】寄左然后以天元为幂又以小勾通之得□□□为同数与左相消得下式□□□□以立方开之得一百二十步倍之即城径也合问【翻法在记】
　　又法乙南行乘甲东行为平实二数相减为法一隅翻开得半径
　　草曰别得二数相并为大勾内少一虚股其二数相减为小差也　立天元一为半径副置之上位减于二百步得□□为勾圆差【即小差勾也】下位加三十步得□□为小差股勾股相乘得□□□为一段小差积【寄左】再以小差勾减小差股余□□为一较也又以此较减于小差得下式□□为一个较较以天元一乘之得下式□□为同数与左相消得□□□开平方得一百二十步即半城径也合问【翻法在记】再立此法者盖从简也
　　按此乃以小差勾为平上较较半径为平股故以小差上较较与半径相乘等于平上较较与小差股相乘为一段小差积也
　　或问乙出东门南行不知步数而立甲出北门东行二百步望乙与城防相直复就乙斜行一百七十步与乙相防问答同前
　　法曰以二行差乘甲东行为实甲就乙斜行为方一步常法得半径
　　草曰识别得二行相减余三十步即乙出东门南行步也【更不湏用】立天元一以为半城径加乙南行得□□为小股副置甲东行步上位减天元得下式□□为小勾下位加天元得□□为大勾也乃置大勾以小股乘之得下式丨□□合以小勾除不受除便以此为大股【内小勾分母】又倍天元以小勾乘之得□□以减于大股得□□□又倍之得下□□□为两个股圆差合以勾圆差乘之縁为其中已带小勾分母更不须乘便以此为黄方幂【更无分母】寄左然后倍天元以自之得□□为同数与左相消得□□□上下俱半之【俱半之者盖从简也】得□□□以平方开之得一百二十步倍之即半径也合问
　　或问乙出南门直行不知步数而止甲出北门东行二百步见之复就乙斜行四百二十五步与乙相防问答同前
　　法曰倍两行差以乘二之甲东行为实从空四之甲东行于上倍两行差加上位为隅得半径
　　草曰识别得二行差二百二十五步即半径为勾之股也立天元一以为半径便是小勾其二行差便是小股乃置甲东行步加天元得□□为大勾以小股乗之得下式□□又以小勾除之得□□为大股又倍天元以减之得□□□为股圆差又倍之得□□□为两个股圆差于上乃以天元减甲东行得□□为勾圆差以乘上位得下式□□○□为城径幂【寄左】然后倍天元一以自之得□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问【按此系得数各升一位然后开平方】
　　又法并二数以二数差乗之开方得底股复以甲东行二百步乘之为实并二数而半之以为法如法得二百四十步即城径也合问【此用股上容圆求之比前法极为简易】
　　或问乙从干隅南行不知步数而止甲出北门东行二百步望见之复就乙斜行六百八十步与乙相会问答同前
　　法曰并二行以二行差乘之内减二行差幂为实并二行步及二行相减数【按即倍乙斜行】为从二步常法得半径
　　草曰识别得斜行六百八十步即大也其二行相减余四百八十步即乙南行步内减半径也立天元一为半城径副置之上位加二行相减数得□□为大股也下位加甲东行步得□□为大勾也乃以大股自增乘得丨□□为大股幂【寄左】乃并大勾大得□□于上又以大勾减大得□□为大差以乘上位得□□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问
　　又法求大差
　　法曰二行差自乘为实置二之二行差于上乃以甲东行步减二行差又半之以减于上为益方【按三因斜行步二因东行步相减折半亦同】半步常法
　　草曰立天元一为大差减于二行差得□□为半城径以自之得丨□□为半径幂【寄左】乃以半城径减于甲东行得下式丨□为小差又以天元乘之得丨□又以半之得□□为同数与左相消得下式□□□以平方开之得三百六十步即大差也合问
　　或问乙出东门不知步数而立甲出北门东行二百步望乙与城叅相直复就乙斜行一百三十六步与乙相防问答同前
　　法曰甲东行步内减二之二行差【按倍斜行步内减东行步亦同】余以乘甲东行为实一步常法得半径
　　草曰别得二行相减余六十四步即半径为股之勾立天元一为半城径就以为股率其二行差即勾率也乃置甲东行步加天元得□□为大勾以天元股率乘之得丨□合以勾率除之不受便以此为大股【内勾率分母】乃倍天元以勾率乘之得□以减大股得丨□为一个大差于上【内勾率分母】乃以天元减甲东行得□□为小差以乘上位□□□为半段黄方幂【内寄勾率为母】寄左然后以天元自之又以勾率乘之又倍之得□□为同数与左相消得下式丨□□以平方开之得一百二十步倍之即城径也合问
　　或问乙出东门直行一十六步而止甲出北门东行二百步望见乙与城叅相直问答同前
　　法曰二行步相减余以自乘内减乙东行幂为实二之甲东行为益从一步隅法得半径
　　草曰立天元一以为半城径加乙行步并以减于甲行步得□□为平勾率其天元半径即平股率也乃置乙东行一十六步为小勾以股率乘之得□合以勾率除之今不受除便以此为小股【内带勾率分母】又置乙东行加二天元得□□为大勾以股率乘之得□□合以勾率除之今不受除便以此为大股【内寄勾率为母】以此小股大股相乘得□□□为半径幂【内寄勾率幂为母】寄左然后以勾率幂乘天元幂得丨□□□为相同数相消得□□□□开平方得一百二十步倍之即城径也合问【按此系得数各降二位然后开平方】
　　或问甲乙二人同出北门向东行至东北十字道口分路乙折南行一百五十步而立甲又向东行甲前后通行了二百步廻望乙恰与城相直问答同前法曰以二行步相乘于上又以南行步乗之为实二行步相乘于上又以乙南行减于甲东行得数复以乙南行乘之加上位共为法得半径
　　草曰立天元一为半城径副之上位加甲行步得□□为大勾也下位减于甲行步余□□为小勾也其乙折南行即小股也置大勾以小股乘之得□□内寄小勾□□为母便以为大股也再置天元以母乘之得□□减于大股余丨□□为半个矮梯底于上【内寄小勾为母】再置乙折行步内减天元得□□为半个矮梯头以乘上位得□□□□为半径幂【寄左】乃以小勾分母乘天元幂得下式□□□为同数与左相消得□□上法下实如法而一得一百二十步即城之半径也合问
　　又法　　法曰二行步相乘为实倍甲东行内减乙南行为法
　　草曰立天元一为半圆径副之上位加甲东行得□□为大勾下位减甲东行得□□为小勾此小勾便是勾圆差也其乙南行即小股也置大勾以小股乘之得下式□□内寄小勾□□为母便以为大股也再置天元以二之又以分母乘之得□□为全径以减于大股余得□□□为股圆差也合以勾圆差乘之縁内已有小勾分母故不湏再乘便以此为两段之半径幂也更无分母【寄左】再置天元以自之又二之得□□为同数与左相消得□□上法下实一百二十步即半城径也合问
　　或问见底勾二百步明一百五十三步问答同前法曰半底勾乘明为平实并二云数而半之为从五分常法得明勾
　　草曰立天元一为明勾加明得□□为髙股也又以天元减底勾而半之得下式□□为平勾也勾股相乘得□□□为半径幂【寄左】然后以天元乘底勾得下式□为同数与左相消得□□□开平方得七十二步即明也以明乗底勾为平方实如法开之得一百二十步倍之即城径也合问
　　或问见底勾二百步□三十四步问答同前
　　法曰底勾□相减余倍之内减去底勾【按倍□减底勾亦同】复以底勾乗之于上又以□幂乘上位为三乗方实倍底勾以□幂乗之为从二云数相减余以自之为第一亷二云数相减余又倍之为第二益亷一步隅法得□股
　　草曰立天元一为□股加□得□□为平勾以平勾减底勾余□□为平以倍之得□□为黄长也此内却减底勾余得下式□□为明勾也复以底勾乘之得□□于上又□自乘得一千一百五十六为分母以乗上位得□□为带分半径幂【寄左】然后置黄长以天元乗之得□□合以□除之不除寄为母便以此为全径也以半之得□□为半径【内带□分母】以自之得丨□□□为同数与左相消得丨□□□□开三乗方得三十步即□股也余各依数求之合问
　　又法底勾内减二□复以底勾乘之复以□幂乘之为三乗方实余亷从并与前同
　　草曰识别得二数相减余一百六十六为平勾虚共又为平□股共于此余数内又去半径即□和也□和□相并即勾圆差也相减则□黄方也又倍□加□黄亦得勾圆差也底勾内减□股余即小差也　立天元一为□股减于云数相减数得□□为平以平减底勾得□□即平勾以平勾减于云数相减数得□□即虚以天元又减虚得□□即明勾也乃置平以天元乘之得□□合□除不除寄为母便以此为平股也【即半径】平股自之得丨□□□○为半径幂【内带□幂分母】寄左然后置底勾以明勾乗之得□□又以□幂一千一百五十六通之得下式□□为同数与左相消得丨□□□□亷从一一如上
　　或问见底勾二百步平一百三十六步问答同前法曰倍平内减底勾复以底勾乗之开平方得半径
　　草曰立天元为半径先倍平内减底勾余□为明勾复以底勾乗之得□为半径幂【寄左】然后以天元幂为同数与左相消得丨□□开平方得一百二十步又倍之即城径也合问
　　或问底勾二百步髙二百五十五步问答同前法曰底勾幂乗髙为立实底勾幂为从髙为亷一为隅得半径
　　草曰识别得髙即皇极股也立天元一为半径副之上位加髙得□□即底股也下位减于髙得□□即明股也置明股以底勾乗之得□□合以底股除不除寄为母便以此为明勾又以底勾乗之得□□为半径幂【内带底股分母】寄左然后以天元幂乗底股得丨□□与左相消得丨□□□开立方得一百二十步倍之即城径也合问
　　或问底勾二百步□勾□和五十步问答同前法曰以二云数相减余加底勾复以减余乗之半之于上以减余自之减上位为实并云数半之为法得□股
　　草曰别得二数相减余为小差股立天元一为□股减于小差股得□□即半径也又以天元减半径得□□为虚股于上又以半径加底勾得□□为通勾于下上下相乗得□□□折半得丨□□为半径幂【寄左】然后以半径自之得下式丨□□为同数与左相消得□□上法下实得三十步即□股也合问
　　或问见底勾二百步明股明和二百八十八步问答同前
　　法曰二数相减又半之得数又减于底勾余为泛率以泛率自之又倍之于上位又二数相减而半之以乗和步所得减于上倍为实倍泛率于上位又半底勾减和步加上位为法得明勾
　　草曰别得和步得明勾为大差也大差得底勾为二中差　立天元一为明勾加和步得□□为股圆差也【即大差】内又加底勾得□折半得□□即通勾通股差也【此即中差】置大差减中差得下□□即小差也大小差相乘得□□□为半段圆径幂【寄左】乃置底勾内减小差得□□为半径以自之得□□□倍之得下式□□□为同数与左相消得□□上法下实得七十二步即明勾也合问
　　按此条法草与三卷末以小差边股共为二中差者同误依问另设于后
　　法曰以底勾乘明股和幂为实倍底勾以明股和乗之加入明股和幂为从倍明股和内减底勾为亷一为隅开带纵立方得明勾
　　草曰别得明得明勾为髙股髙勾即半径也底勾为平勾和明勾为平勾较平股即半径也立天元一为明勾自之得丨□应以明股和除之不除便以为明股较【内寄明股和分母】明股和自之得□为股和以加股较得丨□□为倍明以分母乗倍天元得□为倍明勾与倍明相加得丨□□为倍髙股置底勾减天元得□□为倍平勾与倍髙股相乘得□□□□为城径幂【内寄明股和分母】寄左又倍天元与倍底勾相乘得□以寄分母乘之得□为相同数与左相消得丨□□□开立方得明勾合问


　　测圆海镜卷四
　　钦定四库全书
　　测圆海镜卷五
　　元　李冶　撰
　　大股一十八问
　　或问乙出南门直行一百三十五步而立甲从干隅南行六百步望乙与城叅相直问答同前
　　法曰倍二行差内减甲南行步复以乗甲南行步为实【倍二行差减甲南行步即是甲南行步内减二之乙南行也】四之甲南行步内减二之乙南行为从方四为益隅开平方得半径草曰立天元一为半径以二之加乙南行步得□□为中股以中股又减于甲南行步得□□为股率其天元半径即勾率也置甲南行为大股以勾率乗之得□合以股率除之不受除便以此为大勾【内股率分母】再置天元以二之以股率乘之得□□减于大勾余□□为勾圆差于上【内有股率分母】又以二之天元减甲南行得□□为大差以乘上位得□□□为半段黄方幂【内寄股率分母】然后以天元自之又以股率乘之又倍之得□□□为同数与左相消得下式□□□开平方得一百二十步倍之即城径也合问
　　或问乙出南门东行七十二步而止甲从干隅南行六百步望乙与城叅相直问答同前
　　法曰云数相乘为平实甲南行为从二益隅得半径草曰别得虚勾乗通股得半段圆径幂此与虚股乗通勾同立天元一为半径内减乙东行得□□为虚勾以乘甲南行得□□为半段径幂【寄左】再以天元为幂又倍之得□□为同数与左相消得□□□开平方得一百二十步即城径也合问
　　或问乙出东门直行一十六步甲从干隅南行六百步望见乙问答同前
　　法曰以乙东行乘甲南行幂为实二之乙东行乘甲行为从方亷空二步隅法得半径
　　草曰立天元一以为半城径以二之加于乙东行得□□为勾率又以天元减甲南行得□□为股率乃置乙东行以股率乗之得□□合以勾率除不除便以此为小股此小股即半梯之头也【内带勾率分母】又以股率乗之【此股率即半梯之底也】得□□□为半径幂【内带勾率分母】寄左然后置天元幂以勾率通之得□□□为同数与左相消得□○□□开立方得一百二十步倍之即城径也合问
　　或问乙出东门南行三十步而立甲从干隅南行六百步望见乙问答同前
　　法曰二行步相乗为寳以南行为从一步常法得半径
　　草曰立天元一为半径以减于甲南行得□□为半梯底以乙南行三十步为半梯头以乗之得□□为半径幂【寄左】乃以天元幂与左相消得丨□□开平方得一百二十步即半城径也合问
　　或问乙从艮隅南行一百五十步而立甲从干隅南行六百步望见乙问答同前
　　法曰二行步相乗为实并二行步为法得半径草曰立天元一为半径副置之上以减于乙南行得□□为半梯头下以减于甲南行得□□为半梯底上下相乗得丨□□为半径幂【寄左】乃以天元幂与左相消得下式□□上法下实如法而一得一百二十步倍之即城径也合问
　　或问乙从艮隅东行八十步而立甲从干隅南行六百步望见乙问答同前
　　法曰二行步相乘又倍之为实二之乙东行为从一步常法得全径
　　草曰别得乙东行八十步即小差也立天元一为城径减于甲南行步得□□为大差以乙东行步乘之得□□又倍之得□□为城径幂【寄左】然后以天元幂与左相消得丨□□开平方得二百四十步即城径也合问
　　或问南门东不知逺近有树甲从干隅南行六百步望树与城防相直复就树斜行四百八步至树问答同前
　　法曰南行步幂内减两段两行相乘数为实二之南行步为从一步益隅得城径
　　草曰别得南行步内减城径即小股也其斜行步即小也又二行相减即大差为股之勾也立天元一为圆径以减南行步得□□为股圆差也【合为小股】置南行步以斜行步乘之得□合以小股除之不受除便以此为大【内带小股分母】再置南行步以小股乗之得□□为大股【亦带小股分母】以大股减大得□□为小差也合以大差乘之縁于内带大差分母更不湏乘便以为半段黄方幂【更无分母】又二之得□□为一段黄方幂【寄左】然后以天元幂为同数与左相消得□□□开平方得二百四十步即城径也合问
　　依前问假令乙出南门东行不知步数而立甲从干南行六百步望乙与城相直复就乙斜行四百八步【按此即前问以明又法】
　　法曰二行差幂乗甲南行为实二之二行差以乗南行步为益方二之二行差为隅得半径
　　草曰识别得二行相减即半城径与乙东行共也得此数更不须用斜立天元为半径减于二行差一百九十二得□□即半梯头也又以二天元减甲南行步得□□为股率又以一百九十二为勾率乃置甲南行以勾率乘之得□合股率除不除便以此为大勾【内寄股率分母】再置天元以股率乘之得□□以减于大勾得□□□为半梯底也头底相乘得下□□□□为半城径幂【内寄股率分母】寄左然后以股率乘天元幂得□□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问
　　或问东门南不知逺近有树甲从干隅南行六百步见树复向树斜行五百一十步至树问答同前
　　法曰二行差步乘甲南行步为实二行之差步并甲南行步为从二益隅【若欲从简上下俱折半】
　　草曰别得二行相减数即虚积之股也立天元一为半径内减二行之差步得□□为梯头于上又以天元减于甲之南行步得□□为梯底上下相乗得□□□为圆径幂【寄左】然后以天元幂与左相消得□□□开平方得一百二十步即城径也合问
　　或问乙出东门直行不知步数而立甲从干隅南行六百步望见乙复就乙斜行五百四十四步与乙相防问答同前
　　法曰以二行步相减乘甲南行步得数又半之南行步以乘之为实以二行差乘南行步于上又以半之南行步乘南行步加于上为从方二之南行步为益亷一步常法得半径
　　草曰别得二行相减即半径上勾股较【此股即半径也】又别得是大勾圆差不及平数立天元一以为半城径以减南行步得□□为中股其斜行步即中也乃立半城径以斜步乘之得□合以中股除今不受除便以此为平【内带中股分母】又以二行步相减余五十六步为勾圆差不及平数置此数以中股乗之得□□复以减平余得□□为小差【内带中股分母】乃以二天元减甲南行步得□□为大差又半之得□□以乘小差得□□□为半径幂【寄左】然后以天元自乗又以中股通之得□□□为同数与左相消得丨□□□开立方得一百二十歩倍之即城径也合问【翻法在记】
　　或问甲乙二人俱在干隅乙东行不知步数而立甲南行六百步望见乙复就乙斜行六百八十步与乙相会问答同前
　　法曰以二行差乘二行并开平方得数内复减二行差得全径
　　草曰别得二行相减即勾圆差也先求大勾立天元一为大勾以二行相减余八十步以乘二行相并数一千二百八十步得□为勾幂开平方得三百二十步即大勾也大勾内减去勾圆差余二百四十步即城径也合问
　　或问南门外不知逺近有树甲从干隅南行六百步望树与城防相直复就树斜行二百五十五步至树问答同前
　　法曰倍二行相减数内减甲南行得数复以乘甲南行为实倍二行相减数为从二步益隅得半径草曰识别得斜行步乃是树至城心之数也立天元一为半径加斜行步得□□为树至城北门之步也乃以减于甲南行得□□为小股率其天元半径即小勾率其斜步即小数也再置甲南行步内减天元得□□为梯底于上又置梯底内减二之小股率得□□即梯头也复以乘上位得□□□为半径幂【寄左】然后以天元幂与左相消得下式□□□开平方得一百二十歩倍之即城径也合问
　　或问东门外不知步数有槐树一株甲从干隅南行至柳树下望见槐树复斜行至槐树下甲自云我共行了一千一百四十四步乙从艮隅东行望见槐树与城相直复斜行至槐树下乙自云我东行少不及斜行五十六步问答同前
　　法曰甲斜行减于甲南行以乘甲南行得数复以乘二之甲南行为实半之甲南行以乘二之甲南行于上甲斜行减于甲南行余复以乘甲南行又倍之加上位为从方二之甲南行为益亷五分隅法【按五分隅法即半个立方】
　　草曰识别得五十六步是小差不及平数【此小差即勾圆差也】又为平上勾股差又为甲斜行不及大股乃副置甲共行在地其上位加五十六步而半之得六百步即大股也其下位减五十六步而半之得五百四十四步即今也立天元一为圆径以半之减于甲南行步得□□为中股其斜行五百四十四步即中也乃立半天元以斜步乘之得□合以中股除之今不受除便以此为平【内寄中股分母】又置勾圆差不及平数以中股乘之得□□复以减于平□□为小差【内带小股分母】又以天元减甲南行倍之得□□为两个大差以乘小差得□□□为圆径幂【寄左】然后以中股乘天元幂得下式□□□为同数与左相消得□□□□开立方得二百四十步即城径也合问【翻法在记】
　　或问出东门向南行不知步数有柳树一株甲从干隅南行六百步望见柳树而止乙出东门直行不知步数望柳树与甲相直却斜行三十四步至柳树下问答同前
　　法曰乙斜行乘甲南行数以乗甲南行幂为实斜行乗甲南行幂又三之为从方甲行幂内减两段斜行南行相乘数【按甲南行内减二之乙斜行以甲南行乘之】为第一亷二之南行步为第二益亷二步常法得半径
　　草曰立天元一为半径以二之减甲南行得□□为大差以自之得□□□为大差幂加于南行幂得□□□又半之得□□□为大也内带大差□□分母别寄又置乙斜行以大股六百步乘之得□合大除不除便以此为小股也【内带大分母】乃以天元减甲南行得□□即半梯底也以乗小股半梯头得□□为半径幂于上此半径幂内有大分母縁别寄大分母元带大差分母故又用大差分母□□乘上半径幂得□□□为带分半径幂也所带之分谓只带大分母也【寄左】然后以大乘天元幂得□□□□为同数与左相消得□□□□□开三乘方得一百二十步即半城径也合问
　　按此条寄分内又带寄分则以所带之分乘本条仍以寄分乘次条者盖寄分为应除本条之数而寄分内所带之分又为应除寄分之数今不除寄分而乘本条则犹是寄分乘次条之理也乗除之变至斯而极矣
　　又法置甲南行幂于上又置甲行幂半之以乗上位为实以斜行乗甲行幂倍之于上位又以甲行再自乗加上位为益方置甲行幂于上以斜行乗甲南行倍之以减上位为第一亷甲南行步为第二亷半步常法得股圆差
　　草曰立天元一为股圆差【即大差】以自之为幂以加甲南行幂得丨□□半之又以天元除之得□□□为大其甲南行即大股也别置乙斜行三十四步以大股乗之得□合大除不除便以为小股【内寄大分母】乃以天元加甲南行步得□□为全梯底也以乗小股半梯头得□□又倍之得□□为城径幂【内寄大为母】寄左置天元大差减甲南行余□□为圆径以自之得丨□□又以大分母乗之得□□□□□为同数与左相消得□□□□□开三乘方得三百六十步即股圆差也以股圆差减甲南行余二百四十步即城径也合问
　　或问甲从干隅南行六百步而止丙出南门直行乙出南门东行各不知步数而立甲望乙丙悉与城防相直既而乙就丙斜行一百五十三步相防问答同前法曰以甲南行步再自之于上以斜行步乘甲南行幂又倍之减上位为立方实南行步自之又四之于上以斜步乗甲南行又倍之减上位为益从六之甲行步为从亷四步虚常法得半径
　　草曰立天元一为半径以二之减于甲南行得□□为大差也以自之得□□□为大差幂也乃置甲南行幂内加大差幂而半之得□□□为大也【内寄大差分母】又置甲南行幂内减大差幂而半之得□□为大勾也【亦带大差分母】乃置斜行步在地以大勾乗之得□□合以大除不除便以此为小勾内带大为母【其大勾内元有大差分母不用】即半梯头也【寄上位】再寄天元半径以大差乘之得□□以减于大勾得□为半梯底也以乘上位得□□□为半径幂也【内带大差及大为母】寄左然后置天元幂以大差通之又以大通之得□□□□□为同数与左相消得□□□□开立方得一百二十步即半城径也合问
　　依前问假令南门外有树乙出南门东行不知步数而立【只云乙东行步少于树去城步】甲从干隅向南行六百步望树与乙悉与城防相直乙就树斜行一百五十三步至问答同前
　　法曰以斜行步乗甲行幂为立方实以甲行幂半之于上以斜行步乘甲行步减上位为益从亷空五分隅得大勾大差
　　草曰别得斜步即小小得小和即勾差也立天元一为股圆差以自之为幂副之上以加甲南行幂而半之得□□□为大也【寄大差分母】下以减于甲南行幂而半之得下式□□□为大勾也【寄大差分母】乃置斜步以大勾乗之得下□□□合以大除不除便以此为小勾【寄大分母】又置斜步以甲南行乗之得□合以大除为小股不除而又以同母分通之得□○为同分小股也【内只寄大分母】注【大股乘时无大差分母故今通之以齐大勾上所有大差分母也】又置斜步以大通之得□□□为通分小也三位相并得□□为股圆差【寄左】然后置天元大差以大分母通之得□○□为同数与左相消得□○□□开立方得三百六十步即股圆差也以股圆差减于甲南行步即城径也合问
　　或问东门外不知步数有树甲从干南行六百步而止乙出北门东行斜望树及甲与城防相直却就树斜行一百三十六步问答同前
　　法曰二行步相乘于上又半甲南行乘之为实二行相乗于上又半甲南行以乘甲南行加上位为益从甲南行为从亷一步益隅开立方得半径
　　草曰立天元一为半径便以为小股其斜行步即小也乃以甲南行为大股以小乘之复以天元除之得□□即大也又倍天元减甲南行余□□为大差以减大余□□□为大勾也又倍天元以减勾得□□□为小差也却以半大差□□乘之得□□□为半径幂【寄左】乃以天元幂相消得下式丨□□□开立方得一百二十步即半径合问
　　或问南门外不知步数有槐树一株东门外不知步数有柳树一株槐柳二树相去二百八十九步有人从干南行六百步而止斜望槐柳与城防相直问答同前
　　法曰云数相乘得又自增乗为三乗方实斜步幂乘南行步又云之为益从二云数相乘又倍之【按此下脱内减斜步幂五字】为益亷二之斜步为第二从亷二法常法得槐至城心步
　　草曰别得槐树至城心步即人所止至槐树步也乃立天元一为槐树至城心步【即人至槐处】加于斜步得□□为边也以天元乗之得丨□合斜步除不除便以此为边股【寄斜步分母】又以斜步乗南行步得□为大股以边股减之余□□□为半城径【寄斜步分母】以自之得丨□□□□为半径幂【内带斜步为母】寄左又以天元减斜歩得□□为□以天元乘之得□□○合斜步除不除寄为母便以此为半梯头以边股半梯底乗之得□○□□为同数与左相消得□□□□□开三乘方得二百五十五步即槐树至城心之步也亦为皇极正股又自之得数以减斜幂余如平方而一得城心至柳树步又为皇极正勾也勾股相乘倍之为实如斜步而一即城径也合问
　　或问甲从干南行六百步而立乙出南门直行丙出东门直行三人相望俱与城相直而乙丙共行了一百五十一步问答同前
　　法曰甲南行为幂折半又以自之为实倍共步加甲南行以乘半段甲行幂为从方甲行乘共数为从亷一个半甲南行为第二益亷二分五厘为三乘方隅草曰识别得共步加城径即皇极和也又是半径为勾之与半径为股之相和步也二之此数内减去大即皇极勾股内黄方面也亦为太虚乃立天元一为大差以自之副置二位上位减于甲行幂以天元除之又折半得□□□为大勾也下位加甲南行以天元除之又折半得□□□为大也其甲南行即大股也并勾大股得下式□□□即大和也再以天元减甲南行得□□即圆径也加共步得□□即皇极和又是半径为勾之及半径为股之共数也又倍之得□□即全径为勾之及全径为股之共数也内减大得□□□即小和内黄方面也乃置大和□□□以小黄方面乘之得□□□□□合以小和除之不除便以此为大黄方也【内寄小和为母】寄左然后以天元减甲南行得□□为大黄方以小和乗之得丨□□为同数与左相消得□□□□□开三乗方得三百六十步即股圆差也以股圆差减于甲南行余二百四十步即城径也合问
　　或问丙出南门东行乙出东门南行各不知步数而立甲从干隅南行六百步斜望乙丙悉与城叅相直乙就丙斜行一百二步相防问答同前
　　法曰以斜步乘甲南行幂又倍之为实倍甲行幂于上又以斜步乘二之甲南行加于上为从方四之甲南行为益亷四步常法开立方得半径
　　草曰别得斜步为小也以斜步减圆径余为小和也乃立天元为半径以二之减于甲南行得□□为大差也以自之得□□□为大差幂也置甲南行幂□内加大差幂而半之得□□□为大也【内带大差为分母】又置甲南行幂内减大差幂而半之得□□○为大勾也【带大差分母】又以大差乘股六百步得□□并入大勾得□□□为大和也【带大差分母】乃先以小乘大和得下式□□□寄左又以倍天元减斜步得□□为小和以乘大得□□□□为同数与左相消得□□□□开立方得一百二十步即半径也合问
　　依前问假令乙出东门南行丙出南门东行各不知步数而立【只云丙行步多于乙行步】甲从干隅南行六百步望乙丙与城叅相直乙复斜行就丙行了一百二步与丙相防问答同前
　　法曰以斜步乘甲行幂又倍之为立方实甲行幂内加斜行南行相乗数为从方甲南行为益亷半步为隅得全径
　　草曰别得相就步即小也小得小和为直径也立天元一为城径以减于甲南行步得□□为大差以自之得丨□□为太差幂也置甲南行步以自之为幂副之上以加大差幂而半之得□□□为大也【内寄大差分母】下以减大差幂而半之得□□○为大勾也【内寄大差分母】乃置相就步在地以大勾乗之得□□合大除不除寄为母便以此为小勾也寄大母又置斜步【即相就步也】以甲南行乘之得□合以大除之不除寄为母便以此为小股而又以元分母大差乗之得□□为同分小股也只寄大为母【其大勾内元有大差分母其大股内却无分母故今乘过复以大差通之齐分母也】又置斜行步以大通之得□□□为小也上三位相并得□□为城径也【内寄大分母】寄左然后置天元以大通之得□□□为同数与左相消得□□□□开立方得二百四十步即城径也合问








　　测圆海镜卷五
　　钦定四库全书
　　测圆海镜卷六
　　元　李冶　撰
　　大勾一十八问
　　或问乙从东门直行一十六步甲从干隅东行三百二十步望乙与城叅相直问答同前
　　法曰甲东行内减二之乙南行复以乘甲东行为实四之东行内减二之乙东行为从四益隅得半径草曰立天元一为半径以二之加乙东行得□□为中勾以中勾减于甲东行得□□为勾率也其天元半径即股率也置甲东行为大勾以股率乗之得□合以勾率除之不受除便以此为大股【内带勾率分母】再置天元以二之以勾率乗之得□□减于大股余□□为股圆差于上【内有勾率分母】又以二之天元减甲东行得□□为小差以乗上位得□□□为半段黄方幂【内有勾率分母】寄左然后以天元自之又以勾率乘之又就分倍之得□□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问
　　或问乙出东门南行三十步而立甲从干隅东行三百二十步望乙与城叅相直问答同前
　　法曰甲乙相乘为实甲东行为从二虚法得半径草曰识别具见大股第二问中立天元为半径内减乙南行得□□为虚股以乘通勾甲东行得□□为半段城径幂【寄左】然后以天元自之又就分二之得□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问
　　或问乙出南门直行一百三十五步而立甲从干隅东行三百二十步望见乙问答同前
　　法曰以乙南行乘甲东行幂为实二之乙南行乘甲东行为从方亷空二步常法得半径
　　草曰立天元一为半城径以二之加于乙南行得□□为股率以天元减甲东行得□□为勾率乃置乙南行以勾率乘之得□□合股率除不除便以此为小勾此即半梯之头【内带股率分母】又以勾率乘之得□□□为半径幂【内股率分母】寄左乃以股率乘天元幂得□□□为同数与左相消得□○□□开立方得一百二十步倍之即城径也合问
　　或问乙出南门东行七十二步甲从西北隅取直行三百二十步见乙问答同前
　　法曰二行相乘为实以东行为从一步常法得半径草曰立天元一为半城径以减甲东行步得□□为梯底以乙东行七十二步为梯头以乘之得□□为半径幂【寄左】然后以天元幂与左相消得丨□□以平方开之得一百二十步倍之即城径也合问
　　或问乙从西南隅直东行一百九十二步甲从西北隅直东行三百二十步望见乙问答同前
　　法曰二行步相乘为实二行相并为法得半径草曰立天元一为半径副置之上以减于乙东行得□□为梯头于上下位减于甲东行得□□为梯底以乘上位得丨□□为半径幂【寄左】然后以天元幂与左相消得□□上法下实即半径也合问
　　或问乙从坤隅直南行三百六十步而止甲从干隅直东行三百二十步望见乙问答同前
　　法曰二行步相乗倍之为实二之甲东行为从一步常法得城径
　　草曰立天元一以为城径加一南行得□□为股二行步相并得六百八十步为甲东行为勾勾股相乘得□□又倍之得□□为二直积【寄左】然后以勾股相并得□□为三事和以天元乘之得丨□为同数与左相消得丨□□开平方得二百四十步即城径也合问
　　或问东门南不知逺近有树甲从干隅东行三百二十步望树与城叅相直复就树斜行一百七十步至树问答同前
　　法曰两段东行步幂内减两段东行斜行相乗数为实【按或云倍东行步以二行差东之亦同】二之东行为从一益隅得城径草曰别得东行步即大勾斜行步即小也乃立天元一为城径减东行步得□□为勾圆差也【今为小勾】置东行步以斜步乘之得□合以小勾除之今不受除便以此为大【内带小勾分母】再置东行步以小勾乘之得□□为大勾以减大得□□为大差合以小差乗之【縁内带小差分母】更不湏乗便以此为半段黄方幂【更无分母】又二之得□□为一段黄方幂【寄左】然后以天元幂与左相消得□□□开平方得二百四十步即城径也合问
　　依前问假令乙出东门南行不知步数而止甲从干东行三百二十步望乙与城相直复就乙斜行一百七十步
　　法曰以甲东行乘二行差幂为实以甲东行乘二之二行差为从方二之二行差为隅法得半径
　　草曰识别得二行相减余一百五十即半城径与乙南行共数也得此数更不湏用斜立天元一为半径减于二行差得□□即半梯头也又以二天元减甲东行步得□□为勾率又以一百五十为股率乃置甲东行以股率乘之得□合勾率除不除便以此为大股【内寄勾率分母】再置天元以勾率乘之得□□以减于大股得□□□为半梯底也头底相乘得下□□□□为半径幂也【内带勾率分母】寄左然后以勾率乘天元幂得□□□为同数与左相消得□□□开平方得一百二十步倍之即城径也合问
　　或问南门东不知逺近有树甲从干隅东行三百二十步见树复向树斜行二百七十二步至树问答同前法曰二之二行差乘二之甲东行为实并二之二行差及二之甲东行为从二步益隅得城径
　　草曰别得二行相减余四十八步即虚积之勾也立天元一为城径内减二之二行差得□□为梯头于上置甲东行步以二之内减天元得□□为梯底以乘上位得□□□为城径幂【寄左】然后以天元幂与左相消得□□□开平方得二百四十步即城径也合问
　　或问甲从干隅东行三百二十步而止乙出南门直行不知步数望见甲复就甲斜行四百二十五步与甲相防问答同前
　　法曰二行步相减以乘东行幂得数半之为实以半之东行步乗东行步于上二行步相减余乗东行步减上位为从二之东行步为益亷一步常法得半径草曰识别得二行相减是髙积上勾股较【此勾即半径也】又别得是髙不及股圆差数乃立天元为半城径以减东行步得□□为中勾其斜行步即中也又置半城径以斜步乗之得□合以中勾除之不受除便以此为髙【内寄中勾为母】又以二行步相减余一百五步为髙不及股圆差数置此数以中勾乘之得□□加入髙得□□为大差于上【内带中勾分母】又倍天元减东行步得□□为小差又半之得□□以乘上位得□□□为半径幂【内有中勾分母】寄左乃以天元自乗又以中勾乘之得□□□为同数与左相消得□□□□以立方开得一百二十步倍之即城径也合问
　　或问甲乙二人俱在干隅乙直南行不知步数而立甲直东行三百二十步望见乙复就乙斜行六百八十步与乙相防问答同前
　　法曰以二行差乘甲东行步又二之为实以二之二行差为从一步常法得城径
　　草曰别得二行步相减余三百六十步即股圆差也乃立天元一为圆径以减于甲东行步得□□为小差以东行斜行差三百六十步乘之得□□倍之得□□为一段城径幂【寄左】乃以天元幂与左相消得丨□□开平方得二百四十步即城径也合问
　　或问东门外不知逺近有树甲从干隅东行三百二十步望树与城叅相直复就树斜行一百三十六步至树问答同前
　　法曰倍二行相减数内减甲东行得数复以乘甲东行为实【按或云倍斜步以减甲东行余以甲东行乗之亦同】倍二行差为从二步虚常法得半径
　　草曰识别得斜行步乃树至城心步也立天元一为半径加斜行步得□□即树至城西门之步也乃以减于甲东行得下□□为小勾率其天元半径即小股率其斜步即小数也再置甲东行步内减天元得□□为梯底于上又置梯底内减二之小勾率得□□【按倍小勾得三百六十八步少二元以少二元减梯底之少一元反为多一元以三百六十八步减梯底之三百二十步反为少四十八步也】以乘上位得□□□为半径幂乃以天元幂与左相消得下式□□□以平方开之得一百二十步倍之即城径也合问
　　或问南门外不知步数有槐一株甲从干隅直东行至柳树下望见槐树复斜行至槐树下甲自云我共行了七百四十五步乙从坤隅南行望见槐柳与城叅相直复斜行至槐树下乙自云我南行步多于斜行步一百五步
　　按此问下有草无法今依细草补之
　　法曰置甲共步内减乙较步余数折半自之再倍乙较步乗之为立方实置上减余折半数又减二之乙较步复以减余折半数乗之为从甲共步内减乙较步为亷五分为负隅开立方得城径
　　草曰识别得一百五步是大差多于髙数又为髙上勾股差数又别得是甲斜行多于东行数也乃副置甲共行七百四十五步在地其上位加一百五步而半之得四百二十五步即甲斜行也其下位减一百五步而半之得三百二十步即甲东行也乃立天元一为圆径以半之减于甲东行步得□□为中勾其甲斜行四百二十五步即中也再置天元以半之为小勾以中乘之得□合以中勾除不除便以为髙于上【内中勾分母】别置乙多步一百五步以中勾乘之得□□为大差多于髙数也以加入上位得下式□□为一个大差也置甲东行以天元减之又倍之得□□为二个小差以乗大差得下□□□为一段黄方幂【内带中股分母】寄左然后置天元幂丨□以中勾通之得□□□与左相消得□□□□开立方得二百四十步即城径也合问
　　或问出东门直行不知步数有槐树一株出南门东行不知步数有柳树一株槐栁斜相距一百五十三步甲从干东行三百二十步望槐柳与城防相直问答同前
　　法曰二行相乘讫又以乗甲东行幂为实斜行乗甲东行幂又三之为从方甲东行幂内减两段二行相乘数为第一亷二之甲东行为益二亷二步常法开三乗方得半径
　　草曰立天元一为半径以二之减于甲东行得□□为小差以自之得□□□加于甲东行幂复半之得□□□为大【内寄小差分母】又置斜相距步以大勾乘之得□合大除不除便以此为小勾【内大分母】乃以天元减甲东行数得□□为半梯底以乘小勾半梯头得□□为半径幂于上此半径幂内有大分母此大分母元小差分母故先用小差分母以乗上半径幂得□□□为半径幂也内本大分母【寄左】然后以大乘天元幂得□□□□为同数与左相消得□□□□□开三乗方得一百二十步即半城径也合问
　　或问甲从干隅东行三百二十步而止丙出东门南行乙出东门直行各不知步数而立甲廻望乙丙悉与城叅相直既而乙就丙斜行三十四步相防问答同前
　　法曰甲东行再自之于上以二之斜行步乘甲东行幂减上位为立方实两段南行幂内减东行斜行相乘数为益从以甲东行加五【按加五即加半】为从亷五分虚隅得全径
　　草曰立天元一为城径以减于甲东行步得□□为小差以自之得丨□□为小差幂也乃置甲东行幂内加小差幂而半之得□□□为大也【内带小差分母】又置甲东行幂乃减小差幂而半之得□□○为大股也【内带小差分母】乃置斜行步在地以大股乘之得□□合以大除之不除而又倍之得□□为梯头也【即两个小股内寄大为母权寄】乃置天元圆径以半之以小差分母通之得□□以减于大股余得□又倍之得□为梯底也【即两个边股内亦有小差分母】以乘权寄得□□□为城径幂也【内寄大及小差分母】寄左然后以天元自之为幂以大通之又以小差通之得□□□□□为同数与左相消得□□□□开立方得二百四十步即城径也合问
　　依前问假令东门外有树乙出东门南行不知步数而立【只云树去城步少于乙南行步】甲从干隅向东行三百二十步望乙与树悉与城叅相直乙复就树斜行三十四步到树问答同前
　　法曰甲东行自之又以斜步乘之为立方实置半段甲东行幂于上以斜步乗甲东行减上位为从亷空半步常法得勾圆差
　　草曰别得乙斜行即□也□得小勾股即大股较也乃立天元一为勾圆差以自之为幂副之上以加于甲东行幂而半之得□□□为大也【寄小差分母】下以减于甲东行幂而半之得□□□为大股也【寄小差分母】乃置斜步以大股乘之得□□□合大除不除便以此为小股【寄大分母】又置斜步以甲东行乗之得□合大除不除便以此为小勾而又以通母分通之得□为同分小勾也【寄大分母】注【大股乘时有小差分母今大勾无母故又以齐同之】又置斜步以大通之得□□□为同分小也三位相并得□□为勾圆差也【寄左】然后置天元以大通之得□○□为同数与左相消得□○□□开立方得八十步即勾圆差也以勾圆差减于甲东行步余二百四十步即城径也合问
　　或问南门外不知步数有树甲从干东行三百二十步而立乙出西门便南行望树及甲与城叅相直却就树斜行二百五十五步至树问答同前
　　法曰二行相乘于上以半之甲东行乗之为实二行相乘于上又半之甲东行以乘甲东行加上位为益从甲东行为从亷一步虚法开立方得半径
　　草曰立天元一为半径便以为小勾其斜行即小也乃以甲东行为大勾以小乘之复以天元除之得□□即大也又倍天元减东行余□□为小差以减大余□□□为大股也又倍天元以减股余□□为大差也却以半小差□□乗之得下式□□□为半径幂【寄左】乃以天元幂与左相消得丨□□□开立方得一百二十步倍之即城径也合问
　　或问南门外不知步数有槐树一株东门外不知步数有柳树一株槐柳相距二百八十九步甲从干东行三百二十步斜望槐柳与城叅相直问答同前法曰二行相乗得数又自增乘为实斜行幂乘甲东行又倍之为益从两行相乘又倍之为益亷二之斜步为第二亷二步常法开三乘方得栁至城心步草曰别得柳至城心步即甲立处柳树步也立天元一为柳至城心步加斜步得□□为底以天元乘之得丨□○合斜步除不除便以此为底勾【寄斜步分母】乃再置通勾以斜步乘之得□为带母通勾内减底勾余□□□为半径以自之得丨□□□□为半径幂内带斜步幂分母【寄左】乃以天元减斜步得□□为明以天元乘之得□□合斜步除不除便以此为半梯头【寄斜步为母】复以底勾半梯底乘之得□□□□为同数与左相消得□□□□□开三乘方得一百三十六步即柳至城心步也合问
　　或问甲从干隅东行三百二十步而立乙出城东行丙出城南行三人相望俱与城相直乙丙共行了一百五十一步问答同前
　　法曰以甲东行为幂折半又以自之为三乘方实倍共步加甲东行以乗半段甲行幂为从方甲行乗共数为从亷甲东行加五为第二益亷二分五厘常法得小差
　　草曰别得乙丙共行步即明股□勾共也立天元一为小差以自之副置二位上位减于甲东行幂以天元除之又折半得□○□即大股也下位加甲行幂以天元除之又折半得□○□为大也其甲东行即大勾也并大勾大股得□□□即大和也再立天元以减甲东行步得□□即圆径也以圆径加共行步得□□即皇极和也【即小和又为髙平共数】又倍之得□□即黄长黄广共也内减大得下式□□□为皇极内小黄方也【亦为虚】再置大和□□□以小黄方乘之得下式□□□□□合以小和除之不除便以为城径内寄小和为母【寄左】然后天元减甲东行得□□为大黄方以小和乘之得丨□□为同数与左相消得□□□□□开三乗方得八十步即小差也以小差减甲东行余二百四十步即城径也合问
　　或问丙出南门东行乙出东门南行各不知步数而立甲从干隅东行三百二十步望乙丙悉与城防相直乙就丙斜行一百二步相防问答同前
　　法曰甲东行自之于上倍斜行步乘之为立方实倍斜行步乘甲东行于上加两段甲东行幂为从四之甲东行为益亷四为隅法得半城径
　　草曰别得斜步即虚减于全径即小和也乃立天元一为半径以二之减于甲东行得□□为小差也以自之得□□□为小差幂也置甲东行幂内加小差幂而半之得下□□□为大【内带小差分母】置甲东行幂内减小差幂而半之得□□为大股也内亦带小差为母又以小差乘大勾得□□并入大股得□□□为大和也【带小差母】乃先以小乗大和得下□□□寄左次以斜步减于二天元得□□为小和以乗大得下式□□□□为同数与左相消得□□□□开立方得一百二十步即半城径也合问
　　依前问假令乙出东门南行丙出南门东行各不知步数而立【只云丙行多于乙行步】甲从干隅东行三百二十步望乙丙与城防相直其乙丙共行一百二步问答同前法曰倍共步以乗甲东行幂为立方实共步乗甲东行于上又以甲东行自之加上位为益从甲东行为从亷五分隅常法得城径
　　草曰别得共步便为小得小勾小股即与圆径同立天元为城径以减乙东行得□□为小差以自之得□□□为小差幂也乃置甲东行以自之为幂副之上以加小差幂而半之得□□□为大也【内寄小差分母】下以减小差幂而半之得□□○为大股也【内寄小差分母】乃置共步在地以大股乘之得□□合大除不除便以此为小股也【寄大分母】又置共步以甲东行乘之得□合以大除不除便以此为小勾而又以元分母小差乘之得□□为同分小勾【只寄大分母】注【其大内元带小差分母其大勾内却无分母故母故今复以小差通之齐同其分母也】又置共步以大通之得□□□同分小也三位相并得□□为城径也【内有大分母】寄左然后置天元城径□以大分母通之得□□□○为同数与左相消得□□□□开立方得二百四十步即城径也合问







　　测圆海镜卷六
<子部,天文算法类,算书之属,测圆海镜>
　　钦定四库全书
　　测圆海镜卷七
　　元　李冶　撰
　　明□前一十八问
　　或问出南门东行七十二步有树出东门南行三十步见之问答同前
　　法曰倍南行以乘倍东行为平实并二行又倍之为从一虚隅得城径
　　草曰识别得此问名为外容圆又为内率求虚积其二行步相并为虚若以相减即虚较也又倍东行为较和倍南行即较较此二数相乘则两虚积也若直以二行相乘则半个虚积也又倍东行减于城径余即二虚勾也倍南行减于城径则二虚股也虚积上三事和即城径也乃立天元一为圆径便以为三事和也倍二行步减之得□□为黄方一天元乘之得□□为二虚积【寄左】然后倍东行以乗倍南行得八千六百四十为同数与左相消得丨□□益积开平方得二百四十步即城径也合问
　　又法二行步相乘为实二行步相并为从一步虚法得半径
　　草曰立天元一为半径副置二位上加东行步得□□为大差勾下加□股得□□为小差股此二数相乘得下式丨□□为半段黄方幂【寄左】然后立天元以自之又二之与左相消得丨□□益积开平方得一百二十步即半城径也
　　又法二云数相乘倍之于上加云数差幂权寄并二云数又自增乗得数内减上位为平实并云数而倍之为从二步益隅得半径
　　草曰立天元一为半径副之上减明勾得下□□为虚勾下减□股得□□为虚股勾股相乘得丨□□又倍之得□□□又加二行差幂□得□□□为幂【寄左】然后并云步以自之得□为同数与左相消得□□□益积开平方得一百二十步即半城径也
　　又法云数相乘又倍之为平实云数相减为从一常法得虚勾
　　草曰立天元一为虚勾以南行减东行余四十二步为虚较也以虚较加天元得丨□为虚股以天元乘之得下丨□为直积【寄左】然后倍南行乘东行得□与左相消得丨□□开平方得四十八步即虚勾也以勾除积得九十步即虚股也并勾股得□为虚和也内加入二行并□得□即圆径也
　　又法并两行步以自乘于上又倍南行乘倍东行加上位为平实一隅法得小和
　　草曰立天元一为小和并二行步加之得□□为三事和也倍二行步而并之得□以减三事和余□□为黄方却以三事和乘之得下丨□□为二虚积也【寄左】乃倍南行以乘倍东行得□为同数与左相消得丨□□开平方得一百三十八步即虚和也加入二行步得二百四十步即城径也合问
　　或问丙出南门直行一百三十五步而立甲出东门直行一十六步见之问答同前
　　法曰以丙行步一百三十五步再自之得二百四十六万零三百七十五于上又以甲行步一十六乘丙行幂一万八千二百二十五得二十九万一千六百以乘上位得七千一百七十四亿四千五百三十五万为三乘方实以二行步相乘又倍之得四千三百二十以乘丙行步再自之数得一百六亿二千八百八十二万为益从第一亷空以甲行乘丙行幂得二十九万一千六百又倍之得五十八万三千二百于上四之甲行幂一千零二十四以乘丙行步得一十三万八千二百四十减上位余四十四万四千九百六十为第二亷二行步相乘得二千一百六十为虚常法得丙行步上勾差八十一
　　按法中载数自此始亦择其数繁者详之使人易晓也
　　草曰识得二数相并以减于皇极余即虚勾虚股并也若以二数相减余为髙内减平又为皇极内少个小差又为大差内减个皇极也立天元一为丙行大差数置丙行步一百三十五自乘得□用天元除之得□□为勾并也上减天元得□□□为二丙勾也复用丙南行乘之得□□□为二积也又以天元除之得□□○□为丙勾外容圆径【泛寄】别置丙南行用二甲勾乘之得□合用二丙勾除之不受除便以此为甲股【内寄二丙勾为分母】复用二甲勾三十二乘之得□为二个甲直积也又置丙南行内减天元得□□为黄方以自乘得丨□□为丙上勾差乘股差二段以天元除之得□□□为两个丙小差也乃用甲股乗之得下式□□□复用丙南行除之得□□□又折半得□□□为一个甲步股差也内亦带前二丙勾分母复置二个甲直积内已寄此甲股差分母便为甲步股外容圆径【寄左】乃再置先求到泛寄【按即前所寄□□○□之数】用甲股差分母乘之得□□○□□为同数与左相消得下式□□○□□开三乗方得八十一步即丙步上勾差也钤经载此法以勾差率幂减丙行差幂复以丙行乘之为实以差率幂为法如法得径此法只是以勾外求容圆半合以大差除陪积而今皆以大差幂为分母也依法求之勾差八十一自之得六千五百六十一以减于丙行幂一万八千二百二十五余一万一千六百六十四复以丙行一百三十五乘之得一百五十七万四千六百四十为实以大差幂六千五百六十一为法如法得二百四十步即城径也
　　又法二行相乘得数又自之为三乘方实并二行步以乗二行相乘数又倍之为从二行相并数以自乘于上又二行相减数自乗减上位为第一亷第二亷空一益隅益积开之得半径【其第一亷只是四段二行相乗数】
　　草曰立天元一为半城径副置之上加南行步得□□为股下位加东行步得□□为勾勾股相乘得丨□□为直积一段以天元除之得丨□□为以自之得丨□□□□为幂【寄左】乃以勾自之得丨□□又以股自之得丨□□二位相并得□□□为同数与左相消得丨○□□□益积开三乘方得一百二十步即半城径也
　　又法条段同前
　　草曰以前求得勾股率置出南门步为小股以勾率乘之得□□合以股率除不除寄为母便以此为半梯头于上又置南行步加二天元得□□为大股以勾率乘之得□□□合以股率除不除寄为母便以此为梯底以乘上位得□□□□为半径自乘数内带股率幂为母【寄左】然后置天元以自之又以股率幂乘之得下丨□□□为同数与左相消得数一如前答
　　又法以二行差幂数自乗又倍之为实并二行步以乘二行差幂又四之为益从四段南行幂内减二段差幂于上又二段差幂内减四段东行幂余以减上位【按并二行幂减二行差幂四因之亦同】为第一亷四之二行共为第二亷二步虚法益积开之得皇极二百八十九草曰立天元一为皇极以自之为幂于上以二行步相减余□以自之得□为较幂以减上得丨□□为二直积复以天元除之得□○□为一个城径也副置之上位加二之东行步得□□□为二勾也以自增乘得丨□□□□为四段勾幂于上下位加二之南行得□□□为二股也以自增乘得丨□□□□为四段股幂也并入上位得下式□□□□□为四段幂【寄左】然后以天元为幂四之为同数与左相消得下式□□□□□益积开三乘方得二百八十九步即皇极也　欲见城径者别立天元半径副之加东行为勾加南行为股勾股各为幂并之与幂相消开方得城径也
　　又法以二行差一百一十九自乘得一万四千一百六十一为差幂以东行步乘之得二十二万六千五百七十六为泛率又自增乗得五百一十三亿三千六百六十八万三千七百七十六为五乘方实倍东行步得三十二以二行差一百一十九乘之得三千八百八为小泛以乘泛率又倍之得一十七亿二千五百六十○万二千八百一十六为从方并两行而倍之得三百二以乘泛率得六千八百四十二万五千九百五十二于上位以小泛幂一千四百五十万○○八百六十四加入上位共得八千二百九十二万六千八百一十六为第一亷并两行而倍之得三百二以乗小泛得一百一十五万○○一十六为寄数倍二行差以乘差幂得三百三十七万零三百一十八内减寄数余二百二十二万零三百零二为第二亷六段二行差幂八万四千九百六十六内减二行并数幂二万二千八百一余六万二千一百六十五为第三益亷六之二行差七百一十四为第四益亷二步虚法得□三十四步
　　草曰立天元一为皇极上股差【即东行步上斜也亦谓□斜】以元加二行差得□□即明也【此即皇极上勾差也】以天元乗之又倍之得□□□即皇极内黄方幂也【泛寄】置皇极上勾差以东行步乘之得□□以天元除之得□□为明勾也又置天元以南行乘之得□□合用明除不除寄为母便以此为□股于上【寄明母】乃再置明勾以明乘之得□□□亦为带分明勾加入上位得□□□即是一个虚也以自增乘得下式□□□□□为一段虚幂也内带明幂分母【寄左】然后置明以自之得丨□□为明幂以乘泛寄得□□□□为同数与左相消得下式□□□□□□□开五乗方得三十四步为东行步上斜步也【即□】其东行十六步即□勾也勾各自为幂以相减余九百步开方得三十步即□股也既各得此数乃以股外容圆半法求圆径得二百四十步即城径也合问
　　按此草又法求□至开带纵五乘方法愈繁数愈赜而天元一之用愈见其妙苐所得带纵五乘方亷隅积数虽具而未习其法者不能信其数之必然今姑取已得之□数按亷隅数推其积数以明其数之无可疑焉置五乘方数二以□三十四乘之得六十八与四乘方数七百一十四相加得七百八十二又以□乘之得二万六千五百八十八与三乘方数六万二千一百六十五相加得八万八千七百五十三又以□乘之得三百零一万七千六百零二与立方数二百二十二万零三百零二相加得五百二十三万七千九百零四又以□乘之得一亿七千八百零八万八千七百三十六内减所少平方数八千二百九十二万六千八百一十六余九千五百一十六万一千九百二十又以□乘之得三十二亿三千五百五十万零五千二百八十内减所少元数十七亿二千五百六十万零二千八百一十六余十五亿零九百九十万零二千四百六十四又以□乗之得五百一十三亿三千六百六十八万三千七百七十六为积数与草中积数合【此即无次商带纵五乘方法】
　　或问出东门一十六步有树出南门东行七十二步见之问答同前
　　法曰二行步相减得数以自之于上又以出东门步自之减上位为平方实二之出南门东行步为益从一步常法翻开得半径
　　草曰别得人到树即平也半圆径即平股也其东行七十二步则平勾平差也乃立天元一为半径加一十六减七十二得□□为勾也以自之得丨□□为勾幂又加入天元股幂得□□□为幂【寄左】再立天元一为半径加出东门步得□□即也以自之得丨□□为同数与左相消得□□□翻法开之得一百二十步即半城径也合问
　　或问出南门一百三十五步有树出东门南行三十步见之问答同前
　　法曰树去城步内减南行步余以为幂于上又以树去城步为幂内减上位为平实倍树去城步为从一虚隅翻法得半城径
　　草曰别得人距树即髙也半圆径即髙勾也其南行三十步即髙上小差也乃立天元一为半径加树去城步为内减小差□得□□即股也以自之得丨□□为股幂内加入天元幂得□□□为幂【寄左】再置□□自之得丨□□为同数与左相消得丨□□翻开得一百二十步即半城径也合问
　　或问乙出东门不知逺近而立甲出南门东行七十二步望见乙就乙斜行一百三十六步与乙相会问答同前
　　法曰以斜行步自之于上以二行相减余自为幂减上位为平实从空一步常法得半径
　　草曰别得七十二步即大差也斜行即半径即股也立天元一为半径以自之为股幂又以二行差六十四以自之得□为勾幂并二幂得丨□□为幂【寄左】然后以斜行步自之得□为同数与左相消得丨□□开平方得一百二十步倍之即城径也合问
　　或问甲出南门不知逺近而立乙出东门南行三十步望见甲却就甲斜行二百五十五步与甲相防问答同前
　　法曰二行差自之为幂以减于斜行幂为平实一虚隅得半径
　　草曰别得南行步即股差也斜步即也半径即勾也乃立天元一为半城径以自之为幂以二行相减余二百二十五以自之得□为股幂二幂相并得丨□□为幂【寄左】然后以斜行自之得□为同数与左相消得下丨□□开平方得一百二十步即半径也合问
　　或问甲出南门东行不知步数而立乙出东门南行三十步望见甲斜行一百二步相防问答同前
　　法曰二行相乘四之于上又加入斜行幂为平实得虚和一百三十八
　　草曰别得斜步内减南行为甲东行步也此问以外容圆入之以二行相减数乘乙南行三十步得□又四之得□为二直积也又加入斜步幂□共得□即和幂也平方而一得一百三十八步即虚和也又加斜步得二百四十步即城径也合问
　　或问乙出东门南行不知步数而立甲出南门东行七十二步望见乙斜行一百二步与乙相防问答同前法曰倍相减步以乘倍东行得数复以减于斜步幂余为实平方而一得较也又以二行相减数乘倍东行为平实以较为从方得勾勾较共为长又以斜步并入勾股共即城径
　　草曰别得二行相减余□为乙南行步也以此数又减于甲东行余四十二步即较也乃以二行相减数□乘倍东行得□为平实以较为从平方开得四十八即勾也勾内加较得九十步即股也勾股共得一百三十八又加入斜步共得二百四十步即城径也合问
　　或问乙出南门东行甲出东门南行两相望见既而乙云我东行不及城径一百六十八步甲云我南行不及城径二百一十问答同前
　　法曰半甲不及步以自之为幂半甲不及步内减云数差以自之为幂二幂相并内却减差幂为平实二之乙不及为益从三步半虚法得甲南行
　　草曰别得乙不及为虚勾半径共又为径内减明勾也甲不及为虚股半径共又为径内减□股也又二云数相并为虚和圆径共也云数相减即虚较也乃立天元一为甲南行以减于甲不及步又半之得□□为虚股也虚股内减虚较得□□为虚勾勾自之得□□□为勾幂也又股自之得下式□□□为股幂也二幂相并得□□□为幂【寄左】然后以天元加虚较得□□为乙东行又加入天元甲南行得□□为虚以自之得□□□为同数与左相消得□□□开平方得三十步即甲南行也内加少步即城径也合问
　　或问丙出南门直行甲出东门直行两相望见既而丙云我行少于城径一百五步甲云我行少于城径二百二十四步问答同前
　　法曰二少歩相乘讫又自乗为实六之共步乘云数相乘数为益从十八之云数相乘数于上又三之共步自乘加上位内复减丙少步幂甲少步幂为从亷四十八之共步为益二亷六十三步常法翻法开三乗方得一百二十步即半径
　　草曰别得云数共减于倍城径为甲丙共数又云数相减即皇极差亦为甲行不及丙行数立天元一为半城径以三之副置二位上位减丙少步得□□为皇极股也下位减甲少步得□□为皇极勾也勾股相乘得□□□以天元除之得□□□为也自之得□□□□□为幂【寄左】然后以股自之得下□□□为股幂于上又以勾自之得□□□为勾幂并以加入上位得□□□为同数与左相消得□□□□□翻法开三乘方得一百二十步即半城径也合问
　　或问甲出东门直行丙出南门直行各不知步数而立乙望见甲就甲斜行了二百八十九步与甲相防其二直行共一百五十一步问答同前
　　法曰斜幂内减共步幂为平实倍共步内减斜步为从一常法得径
　　草曰别得共数城径并即皇极和也立天元一为圆径加共步得□□为皇极和以自之得丨□□于上以斜行幂□减上位余丨□□为二直积【寄左】然后以天元乘斜步得□□与左相消得丨□□开平方得二百四十步即城径也合问
　　或问甲出东门直行乙出东门南行丙出南门直行丁出南门东行各不知步数而立四人遥相望悉与城叅相直只云甲丙共行了一百五十一步乙丁立处相距一百二步又云丙直行步多于甲直行步问答同前
　　法曰共步距步相减得数自之于上以共步为幂内减上为平实二之距步内减共步距步差为从一步虚法得城径
　　草曰别得共步得城径即皇极和也相距步即虚也皇极和内减虚即皇极也又共步距步差□即皇极内减城径也【此名旁差】乃立天元一为城径加共步得□□为皇极和也以自之得丨□□于上以共步距步差□加天元得□□为皇极也以自之得下式丨□□减上位余得□□为二直积【寄左】然后以天元径乘皇极得丨□为同数与左相消得丨□□开平方得二百四十步即城径也合问
　　或问甲出南门东行不知步数而立乙出东门南行望见甲复就甲斜行与甲相防乙通计行了一百三十二步其乙南行步不及斜行七十二步其甲东行多于乙南行问答同前
　　法曰倍不及步在地以不及步减通步以乗之为实以四之不及步为法得乙南行三十步
　　草曰别得乙南行即□股也以减通步即虚也以减不及步即虚较也其不及步即甲东行也立天元一为乙南行置不及步以天元乘之又四之得□为二直积【寄左】然后倍不及步以为较和于上□以不及步减通步得□为较较以乗上位得□为同数与左相消得□□上法下实得三十步为乙南行也余各以数求之
　　又法别得通行步为两个乙南行一个甲东行共也其不及步即东行步也云步相并即两个虚相减即两个乙南行也
　　或问甲出南门东行不知步数而立乙出东门南行望见甲复斜行与甲相防二人共行了二百四步又云甲行不及乙一百三十二【按甲不及乙六十步非一百三十二步当云甲行不及共步方合】问答同前
　　法曰别得二行共即两个虚也其不及步即乙南行与一虚共也置不及步内减一余三十步即乙南行也以乙南行反以减虚余七十二步即甲东行也以乙南行减甲东行余即虚较也　此问无草
　　按右二问语若浅近然以发明加减乘除相通之
　　义最为深切集中仿此者可类推之
　　或问乙出东门南行甲出西门南行甲望见乙斜行五百一十步相防乙云我南行少于城径二百一十步问答同前
　　法曰少步幂为平实四斜步内减二少步为益从五步常法得乙南行
　　草曰别得少步为径内减叀股立天元一为乙南行以二之减于倍斜行步得□□为梯底也以二之天元乘之得□□为径幂【寄左】再置天元加少步得下式□□为城径以自之得丨□□与左相消得□□□开平方得三十步即乙南行也加少步即城径也合问
　　或问乙出南门东行甲出北门东行甲望见乙斜行二百七十二步与乙相防乙云我东行不及城径一百六十八步问答同前
　　法曰以不及步幂之为实四斜内减二之不及步为虚从五常法平实开得乙东行七十二
　　草曰别得不及步为城径减明勾也立天元一为乙东行以倍之减于二之斜行步得下□□为梯底也倍天元乘之得□□为径幂【寄左】再置天元加不及步得□□为城径以自之得丨□□为同数与左相消得□□□开平方得七十二步即乙东行也加入少步即城径也合问
　　或问乙出南门东行丁出东门南行却有甲丙二人共在西北隅甲向东行丙向南行四人遥相望见俱与城叅相直既而相防甲云我多乙二百四十八步丙云我多于丁五百七十步问答同前
　　法曰二多步相乗为平实并二多步而半之为从七分半常法得城径
　　草曰别得甲多步为大勾内减明勾也丙多步为大股内少叀股也又乙东行得一虚勾为半径丁南行得一虚股为半径又二多数相并得□为大和内少虚也又二多数相减余□为两个角差又甲多步内减半径即勾方差也丙多步内减半径即股方差也立天元一为城径以半之减于甲多步得□□为勾方差又以半径减于丙多步得□□为股方差二差相乘得□□□为径幂【寄左】然后以天元幂与左相消得下式□□□开平方得二百四十步即城径也合问
　　或问甲丙二人俱在西北隅甲向东行丙向南行又乙出南门东行丁出东门南行各不知步数而立四人遥相望见悉与城叅相直既而相防甲云我与乙共行了三百九十二步丙云我与丁共行六百三十步问答同前
　　法曰甲乙共自之为幂丙丁共自之为幂二幂又相乘为三乘方实甲乙共自之为幂以丙丁共乘之于上又以丙丁共自之为幂以甲乙共乘之加上位为益从甲乙共自之为幂丙丁共自之为幂并以七分半乘之于上又以甲乙共乘丙丁共得数减上位为第一益亷并二共数以七分半乘之为第二亷以七分半自之得五分六厘二毫五丝于上位以一步内减上位余四分三厘七毫五丝为虚隅得城径草曰别得甲为大勾乙为明勾丙为大股丁为叀股也甲乙共内减半径即是黄长也丙丁共内减半径即黄广也黄长黄广二数相减余为两个皇极差也乃立天元为城径半之副置二位上以减于甲乙共数得□□即黄长也以自之得□□□为黄长幂也内减天元一幂余得下式□□□为勾方差幂也下位以减于丙丁共得下式□□即黄广也以自之得□□□为黄广幂也内减天元一幂余得□□□为殷方差幂也再以勾方差幂股方差幂相乘得□□□□□为径幂【寄左】然后以天元为幂又以幂自之与左相消得下式□□□□□开三乘方得二百四十步即城径也合问















　　测圆海镜卷七
　　钦定四库全书
　　测圆海镜卷八
　　元　李冶　撰
　　明叀后一十六问
　　或问出南门向东有槐树一株出东门向南有柳树一株丙丁俱出南门丙直行丁往至槐树下甲乙俱出东门甲直行乙往至柳树下四人遥相望见各不知所行步数只云丙丁共行了二百七步甲乙共行四十六步又云甲丙立处相距二百八十九步问答同前
　　法曰以二共相减数又以减距数为实二为法得平勾
　　草曰识别得丙丁共即明和也甲乙共即叀和也相距步即极也二共相并即极内少个虚黄也又为极和内少个虚和也二共相减余为平勾髙股差也又为虚差极差共也又为通差内减极差也立天元为平勾加入二共相减数得□□为髙又加天元得□□为极【寄左】以相距步二百八十九与左相消得□□上法下实如法得六十四即平勾也以二共相减数加平匀得二百二十五为髙股复以平勾乘之得一万四千四百步开平方得一百二十步即城半径也合问
　　又法二共数并以减相距数余者半为泛率以泛率加丙丁共为长以泛率加甲乙共为阔长阔相乘为平方实得半径
　　草曰置极内减二共并数余三十六步即虚黄也半之副置二位上以加明和得二百二十五步为髙股也下以加叀和得六十四步为平勾也二位相乘得一万四千四百步开平方得一百二十步即半径也合问
　　或问依前见丙丁共二百七步甲乙共四十六步又云二树相去一百二步问答同前
　　法曰以甲乙共乘树相去步得数又以自之为平实从空并二共数为幂于上内减甲乙共自之数丙丁共自之数【按或云二共数相乘倍之亦同】为益隅得叀
　　草曰识别得两树相去步即虚也余数具前立天元一为叀置明和以天元乘之合叀和除不除便以□为明也【内带□和分母】乃置虚以分母叀和乘之得□加入明得□□为极股也内带叀和分母以自之得下式□□□为极股幂【内寄叀和羃为分母】又以天元加虚得□□为极勾以自之得丨□□又以叀和幂□乘之得□□□为勾幂也勾股相并得□□□为两积一较幂也内有叀和幂分母【寄左】然后置明□于上以叀和乘天元得□加上位得□为二并又置虚以叀和乘之得□并入上位得下式□□为极以自之得□□□为同数与左相消得□□□开平方得三十四步即叀也
　　又法以树相去步自之又以甲乙共乘之为平实从空倍丙丁共为虚隅得叀
　　草曰立天元一为叀依前术求得明□便以为皇极勾差也【内带叀和分母】以天元□便为皇极股差以乘之又倍之得□□为虚幂【内有叀和分母寄左】然后以虚自之又以分母□乘之得四十七万八千五百八十四为同数与左相消得□○□开平方得三十四步即叀也合问
　　或问皇极大小差共一百八十七步明黄叀黄共六十六步问答同前
　　法曰后数自乘为实前后数相减余为法得虚黄方草曰别得一百八十七即明叀二共也其六十六即太虚大小差共也又二数相并得□即明叀二和共若以相减余□即明叀四差共也立天元一为太虚黄方面加二黄共得□□即虚也倍虚又加天元得□□即城径也又以虚加皇极大小差得□□即极也以极乘城径得□□□为两段皇极勾股积【寄左】再以极虚相并得□□即皇极勾股共也自之得□□□内减皇极幂丨□□得□□□为同数与寄左相消得□□上法下实如法得三十六步即太虚黄方靣也合问
　　或问东门南有柳一株南门东有槐一株甲出东门直行丙出东门直行甲丙槐柳悉与城防相直既而甲就柳树斜行三十四步至柳树下丙就槐树斜行一百五十三步至槐树下问答同前
　　法曰云数相乘倍之便为平方实开方得虚一百二步以此加甲行步即极勾以此加丙行步即极股余各依法求之　识别甲斜行即叀也丙斜行即明也　无草
　　或问东门南有柳一株南门东有槐一株甲出东门直行丙出南门直行二人遥相望槐栁与城边悉相直既而甲复斜行至柳树下丙复斜行至槐树下各不知步数只云丙共行了二百八十八步甲斜行与柳至东门步共得六十四步问答同前
　　法曰二云数相乘于上以六十四步自之又二之减上位为平实十四之六十四于上倍丙行减上位为从【按倍丙行乃数偶合当云九个半六十四内减丙行为从】二十常法得甲直行步
　　草曰别得丙共步即明股明和也六十四即平勾也内甲斜行即叀也柳至东门步即叀股也又云二数相并即明差与极共也二云数相减即明差与平勾髙股差共也又平勾内减叀勾即虚勾也立天元一为叀勾置丙共步以天元乘之复以六十四除之得□□呔为明勾也又以天元减于六十四得□□为虚勾也并虚明二勾□□为半径也以自之得□□□□倍之得□□□□为半段圆城径幂【寄左】乃以天元加六十四得□□为勾圆差于上又以明勾加丙共步得□□□为股圆差于下上下相乘得□□□□为同数与左相消得□□□开平方得一十六步即叀勾也此叀勾乃甲出东门直行步也余皆依数求　合问
　　或问东门南有柳树一株南门东有槐树一株甲出东门直行丙出南门直行二人遥相望槐柳与城边悉相直既而甲复斜行至柳树下丙复斜行至槐树下各不知步数只云甲共行五十步丙斜行与槐至南门步共得二百二十五步问答同前
　　法曰以二百二十五步自之为幂又以此幂自为幂于上置甲共行以二百二十五步三度乘之得数复折半减上位为平实置二百二十五步自之数以二云数相减数乘之又倍之于上倍五十步在地以二百二十五步自之数乘之复折半加上位为益从云数相减自乘于上以云数相乘复折半减上位为常法得明股
　　草曰识别得甲共步即叀勾叀共也二百二十五即髙股也内丙斜行即明槐至南门步即明勾也又二云数相并即极内减一个叀差也云数相减即叀差与髙股平勾差共也又髙股内减明股即虚股也立天元一为明股即丙出南门直行步也置五十步以天元乘之得□合髙股除不除便以此□为叀股也内带髙股□分母再置髙股内减天元得□□为虚股以分母髙股乘之得下式□□加入叀股得□□即半径也以自增乘得下□□□为半径幂也内带髙股幂为母【寄左】然后置甲共步以分母髙股乘之得□加入叀股得□□为勾圆差于上【内带髙股分母】又以天元加髙股得□□为股圆差于下上下相乘得□□□又以分母髙股乘之得□□□复折半得□□□为同数与左相消得□□□开平方得一百三十五步即明股也合问
　　或问通勾通共一千步叀勾叀共五十步问答同前
　　法曰置一千减二之五十步为泛率以自乘复半之于上又置泛率复以五十乘之加上位为平实二十二之泛率于上【按二十二乃此题叀和除通和所得通倍叀数加二数之数易题则数不同矣当直云通倍叀数加二数乘泛率】以四十二【按四十二乃此题倍通倍叀数加二数之数当直云倍通倍叀数加二数】乘五十得数内减泛率加上位为益从二百【按二百乃此题通倍叀数加二数自乘折半于上又倍通倍叀数并二数以减上位之数当同上不必载数】为常法得叀股
　　草曰立天元一为叀股置一千以天元乘之以五十除之得□为通股也又以天元加五十步得□□即小差也通股加小差得□□即通也以通减一千得□□即通勾也以小差减通勾得□□即圆径也以圆径减通股得□□即大差也置大差以小差乘之得□□□【寄左】然后置圆径以自之得□□□折半得□□□与左相消得□□□开平方得三十步即叀股也合问
　　按此题通勾和为叀勾和度尽之数则不用寄分而用除法以从省便作者盖举一以例其余也
　　或问通勾通共一千步明勾明共二百二十五步问答同前
　　法曰以后数再自乘又以前数乘之为平实以后数为幂又以前数乘之为从以前数幂为常法得明股草曰别得二百二十五步即髙股也立天元一为明股置一千以天元乘之合以髙股除不除便以此□为通股【内带髙股为母】以天元加髙股□□即大差也置大差以髙股分母乘之得□□即带分大差也以此减于通股余□□即圆径也以自增乘得□□□寄左【内髙股幂分母】然后置一千以髙股分母通之得□内减带分大差得□□为两个通勾也内减两个圆径得□□为两个小差也以带分大差乘之得下式□□□为同数与左相消得□□开平方得一百三十五步即明股也合问
　　或问通股通共一千二百八十步叀股叀共六十四步问答同前
　　法曰云数相乘为平实前数为益从置前数以后数除之得二十为泛率泛率减一以自乘于上又倍泛率减一加上位为常法倒积开得叀勾
　　草曰别得六十四步即平勾也立天元一为叀勾置前数以天元乘之以后数除之得□即通勾也又置天元加后数得□□即小差也以小差减通勾余□□即圆径也以自之得□□□【寄左】然后以小差减于前数得□□为二通股内减两个圆径得□□为二大差也以小差乘之得下□□□与左相消得□□□开平方得一十六步即叀勾也合问
　　或问通股通共一千二百八十步明股明共二百八十八步问答同前
　　法曰二数相减以后数乘之内减后数幂又半之为泛率以自乘为平实【按或云前数内减二后数余以后数乘之折半自之亦同】置前数加二之后数而半之为次率以乘泛率于上以后数乘泛率减上位【按或云二数相加以乘前折半数亦同】为益从次率自乘之于上以前数加次率复以后数乘之减上位【按或云前数折半内减后数又以半前数乘之亦同】为隅法得明勾
　　草曰别得二数相减余□为通勾通股及明勾共也立天元一为明勾置前数以天元乘之合以后数除之不除便以此□为通勾也【内寄后数分母】又以二数相减得数内又减天元得□□为通和也乃以分母二百八十八乘之得下式□□内减通勾余□□为通股也又以天元加后数又以分母【即后数也】通之得□□为大差也以此大差减于通股得下式□□为一个圆径也半之得□□以自得之□□□为半径幂【寄左】然后以半圆径减通勾得□□为底勾又以天元乘之又以分母二百八十八乘之得□□呔为同数与左相消得□□□开平方得七十二步即明勾也合问
　　或问明股明并二百八十八步叀勾叀并五十步又云明股叀勾并多于虚四十九步问答同前法曰前二数相并内减二之多步即圆径又只以前二数相乘便是半径幂
　　草曰识别得前二数相减而半之即极差也其多步名傍差又圆径不及极数
　　或问平差髙差共一百六十一步明股叀勾并多于虚四十九步问答同前
　　法曰二数相减又半之以自乘为实后数为法得平勾
　　草曰立天元一为平勾以加前数得□□为髙股也又以天元加髙股得□□为极内减后数得□□又半之得□□为半径以自之得丨□□【寄左】然后以天元乘髙股得丨□为同数与左相消得□□上法下实得六十四步即平勾也合问
　　或问平勾髙股差一百六十一步明差叀差并七十七步又云极多于城径四十九步问答同前
　　法曰并上二位而半之为平率其四十九即旁率也副置平率上加旁率下减旁率以相乘为实倍旁差为法得勾圆差【按求实数有误当云并上二位而半之内减后数于上又置上前数内减后数以乘上位为实方合】
　　草曰识别得平勾髙股差名为角差副置角差上加七十七而半之得□即极差也下减七十七而半之得□即虚差也角差加极差得□即通差也又极多于城径步名为旁差副置角差上加旁差得□为两个髙段上勾股较下减傍差得□为两个平段上勾股较也又副置极差上加傍差得□为股圆差上勾股较下减旁差□为勾圆差上勾股较也立天元一为勾圆差依法求得通差加入天元得□□即大差也以天元乘之得丨□为半段圆径幂【寄左】乃置大差□□内减股圆差上勾股较□余有□□为股圆差之勾于上再置天元内加勾圆差上勾股较□得□□为勾圆差之股以乘上位得丨□□为同数与左相消得□□上法下实得八十歩即勾圆差也
　　又依前问见角差一百六十一步见明差叀差并七十七步又见太虚较较六十步问答同前
　　法曰前二数相减而半之得数加入半之太虚较较为泛率以自乘为平实置一百六十一内减二之泛率为从一常法得平勾
　　草曰别得□即二叀股也立天元一为平勾先以前二数相减而半之得□为虚差以虚差加叀股得□即明勾也以明勾加天元得丨□为平以自之得丨□□内减天元幂得□□为半径幂【寄左】然后以天元加一百六十一为髙股以天元乘之得丨□为同数与左相消得丨□□开平方得六十四步即平勾也
　　又法曰前数内加半之太虚较较以自乘【按此语内有误当云倍角差加半太虚较以半太虚较乘之】为实前数内减太虚较较为从一常法开平方得平勾此更不用明差叀差并也草曰依前求平勾前髙股内加叀股得□□为髙也以自之得丨□□于上位内减髙股幂丨□□余得□□为半径幂【寄左】然后以天元乘髙股得丨□为同数与左相消得下丨□□开平方得六十四步即平勾也合问
　　或问髙差平差并一百六十一步明差叀差并七十七步问答同前
　　法曰以前数自乘于上二数相并而半之以自乘减上位得数复自增乘为平实前数自之于上又以四之前数乘之寄位以前数自之于上并二数而半之以自乘减上位得数又以四之前数乘之【按此下落又倍之三字】减于寄位为从前数自之又四之于上又以四之前数为幂加上位权寄以前数为幂于上并二数而半之以自乘减上位得数复八之加上位又以四之前数为幂加入上位并以减于权寄为常法【按或云二和并而自之又半之以减髙平共差幂又四之为常法亦同】得平勾
　　草曰识别得二位相并而半之得□即极差也立天元一为平勾加一百六十一得□□为髙股髙股内又加天元得□□为极以自之得□□□于上内减极差幂一万四千一百六十一余□□□为两段极积合以极除不除寄为母便以此为城径以自增乘得□□□□□为圆径幂【内有极幂分母寄左】然后以天元乘髙股又四之得□□又以分母极幂□□□通之得□□□□呔为同数与左相消得□□□开平方得六十四步即平勾也合问
　　或问见明和二百七步叀和四十六步问答同前法曰二和上下相减数同则止名为泛率又以二和直相减余为泛实【此则角差也】乃以泛率除泛实所得为差率也以差率加减泛率若半讫与勾股相应者其泛率便为和率其泛实便为较率乘和率也若不相应则直取差率以消息之定为相管和率【其勾股数少得见黄而相为率者勾三股四则其和七而其较一也勾五股十二则其和一十七而其较七也勾八股十五则其和二十三而其较亦得七七勾七股二十四则其和三十一而其较一十七也勾九股二十则其和二十九而其较一十一也此消息之大畧也余皆仿此】乃以和率约二和其明和所得为明垒率其叀和所得为叀垒率也又副置和率上加差率而半之则为股率也下位减差率而半之则为勾率也既见勾股及差三率各以垒率乘之即各得勾股及差之真数也
　　按此用约分以勾股率数求之甚为省便然必两数度尽而得数最小者方可用若两数不能度尽或虽度尽而得数尚大者转属繁难故又设后法
　　又法二云数相并以自乘于上二之云数相乘又四之以相并以四分半乘之又四之以并入上位为从方以七十步零四分三厘七毫五丝为常法得叀小差四步
　　按此法未求实数其求从隅皆用本题数不可通用今依细草意另演一法于后亦惟二和数可以度尽者用之若不能度尽者仍用寄分为便
　　法曰二和数相减自之为平方实叀和除明和得数自而倍之内减四之除得数再加二单数以乘二和相并之数为从除得数自而四之于上又以除得数自乘内减四之除得数外加一单数自之以减上位为常法得叀小差
　　草曰以二和相约命得叀率一明率四步半其两数大小差率并同又别得明小差叀大差俱为半虚黄也立天元为叀小差以四歩半乘之得□元为□大差也又为明小差又为半虚黄置此□大差又以四步半乘之得□为明大差也其四差相并得□减于二和并得□□即两段太虚大小差并也内加三段虚黄方□得□□合成一个太虚三事和即圆城径也以自增乘得□□□为径幂【寄左】乃置叀和加半虚黄得□□为平勾又置明和内加半虚黄得□□为髙股勾相乘得下式□□□又四之得□□□为同数与左相消得下式□□□开平方得四步即叀小差也合问
　　或问明叀二勾共八十八步明叀二股共一百六十五步问答同前
　　法曰先识别得二大差共二小差共及四差共乃以二大差二小差相乘为实以四差共为法如法得半之虚黄方
　　草曰先置前后云数以约法约之得一十一即垒率也复各置前后数如垒率而一前得八即勾率也后得一十五即股率也再以勾股率求得较率七和率二十三率一十七黄方率六大差率九小差率二即见诸率各以垒率乘之其二和共得□二较共得□二共得□二黄共得□二大差共□二小差共□四差共□已上皆为明叀所得之共数也乃立天元一为半虚黄便为明小差又为叀大差也以减于大差共得□□即明大差也又以减于小差共得□□即叀小差也以二数相增乘得丨□□【寄左】以天元幂与寄左相消得□□上法下实得一十八步即半之虚黄方也以倍之得□又加于二黄共六十六共得一百二即明勾叀股共也又为极黄方又为虚也又以三十六减于一百八十七余一百五十一即明股叀勾共也此数内减虚余□为明叀二差较也此名傍差以旁差减二共一百八十七余得□即太虚和也却加入虚一百二并得□为太虚三事和即圆城径也合问
　　又或以虚黄方加于上和共二百五十三得□为极也以旁差减极余二百四十步亦同
　　又或前后副置勾股较和黄六率在地前以小差率二因之则勾得□股得□较得□和得□得□黄得□即叀段各数也后以大差率九因之则勾得□股得□较得□和得□得□黄得□即明段各数也既得明叀各数余可知【按此因明即皇极形勾差叀即皇极形股差故以小差率乘各率即得叀段各数以大差率乘各率即得明段各数也】
　　按右二卷明叀前十八问后十六问在集中尤为神妙惜其中有偶尔思省未至者亦未暇修饰故耳













　　测圆海镜卷八
<子部,天文算法类,算书之属,测圆海镜>
　　钦定四库全书
　　测圆海镜卷九
　　元　李冶　撰
　　大斜四问
　　或问甲丙俱在中心丙望南门直行不知步数而止甲出东门直行不知步数望见丙斜行与丙相防二人共行了六百八十步仍云甲直行少于丙直行一百一十九步问答同前
　　法曰二数相减余以为幂内却减差幂为平实二数相减又四之于上又加入二之差步为益从二步常法得皇极勾
　　草曰别得共步即皇极三事和少步即勾股差也立天元一为皇极勾加少步得□□为股也又以天元加股得□□为和也以和减共步得□□为也自之得□□□为一段幂【寄左】然后置股以天元乘之又倍之得□□为二直积加入少步幂□共得□□□为同数与左相消得□□□平方而一得一百三十六即勾也勾加差为股勾股相乘倍之为实勾股和减共步为法得城径
　　又法云数并与云数差相乘【按此句有误当云和数与倍差相加相减二得数相乘】为平实云数并与二数差相并得数以减于八之共步为益从【按此只云六因和步为益从亦同】一步常法得皇极黄方
　　草曰立天元一为黄方【即虚也】副置之上位加共步得□□为二和也下位减共步得□□为二也先以二和自乘得丨□□为四段和幂又以二自乘得丨□□为四段幂二数相减余得□又倍之得下式□为十六段直积于天元位【寄左】然后副置二和上位加二之少步得□□为四股下位减二之少步得□□为四勾勾股相乘得丨□□为同数与左相消得□□□平方而一得一百二步即皇极黄方也余各依法求之合问
　　或问甲丙俱在西北隅起丙向南行不知步数而立甲向东行望见丙就丙斜行六百八十步与丙相防丙云我南行步多于甲东行二百八十步问答同前法曰以云数差乘云数并为实倍多步为从二为平隅得大勾
　　草曰立天元为大平【按大平即大勾】加差得□□为股倍天元乘之得□□为二积【寄左】然后以斜步多步并□与斜步多步较□相乘得□为同数与左相消得□□□开平方得三百二十步即大勾也合问
　　或问甲乙二人共立于艮隅乙南行过城外而立甲东行望乙与城叅相直而止丙丁二人共立于坤隅丁向东行过城门而立丙向南行望丁及甲乙悉与城俱相直丙复就甲斜行六百八十步与甲相防乙丁又云吾二人直行共得三百四十二问答同前法曰二云数相乘倍之为实倍斜行于上以二云数相减加上位为从一步常法开平方得城径
　　草曰别得斜步即大也其共步则一径一虚共也其二数相并为一大和一虚共数也立天元为径减于共步得□□为虚也以虚复减于天元得□□为虚和以斜步乘之得□□【寄左】乃以天元加斜步得□□为大和以虚乘之得□□□为同数与左相消得丨□□开平方得二百四十步即城径也合问
　　或问甲从北门向东直行庚从西门穿城东行丙从西门向南直行壬从北门穿城南行四人遥相望悉与城叅相直只云丙相望处六百八十步庚壬穿城共行了六百三十一步问答同前
　　法曰共步自之得数以共步减斜余自乘以减上为实二之斜步加入共步减斜余数为从一步常法得城径
　　草曰共行步为一径与皇和共也又为大和皇差也甲丙相望即大也以共步减大余□为皇极上减一径也立天元一为圆径减于共步得□□为皇极和也以自之得丨□□于上内减共步余□又以天元加之得□□为皇极以自之得丨□□减上位余得□□为两个皇直积【寄左】乃以天元乘皇得下式丨□为同数与左相消得丨□□开平方得二百四十步即城径也合问
　　大和八问
　　或问庚从西门穿城东行二百五十六步而立壬从北门穿城南行三百七十五步而立又有甲丙二人俱在干隅甲向东行丙向南行各不知步数而立四人遥相望只云甲丙共行了九百二十步问答同前法曰庚东行幂壬南行幂相并于上并庚壬步而倍之内减大和余复减于庚壬共得数【按或云并庚壬步以减大和亦同】以自乘减上位为平实并庚壬步为益从半步为隅法得城径
　　草曰立天元一为圆径以半之副置二位上以减于庚东行得□□为平也下以减于壬南行得□□为髙也二相并得□□为皇虚共也倍此数得□□为大虚共也以大虚共减于大和余□□为虚勾虚股共也天元内减虚勾虚股共余□□即虚也复置皇虚共内减虚余□□即皇极也以自之得□□【寄左】然后以平自之得下式□□□为勾幂也又以髙自之得□□□为股幂也二幂相并得□□□为同数与左相消得□□□平方而一得二百四十步即城径也合问
　　或问丙甲俱在西北隅甲向东行不知步数而立丙向南行望见甲就甲斜行与甲相防甲直行丙直行共九百二十步【甲步少于丙步】又出东门南行有柳树一株出南门东行有槐树一株戊己二人同在巽隅戊就柳树已从槐树亦与甲乙遥相望只云已行少于戊行数与两树相距数相并得一百四十四步其二数相减余六十步问答同前
　　法曰二云数相并而半之为虚以乘大和九百二十步于上以一百四十四减大和以虚较乘之减上位为平实以一百四十四减大和又二之于上以二之虚较减上位【按或云倍甲丙直行共加己戊较与两树距之较减三之己戊较与两树距之和亦同】为从四虚隅得太虚勾
　　草曰别得甲丙直行共即大和也戊就柳树步即虚股也已就槐树步即虚勾也其一百四十四步即二明勾其六十步即二叀股也立天元一为虚勾加明勾得□□为半径也倍之得□□即城径也【又为虚上三事和】二云数相并而半之得□即小也相减而半之得□即小较也以天元加较得□□即小股也小勾股共得□□即小和也以小三事减大和得□□即大也乃先置小和以大乘之得下式□□□【寄左】次以小乘大和得□□与左相消得下式□□□开平方得四十八步即虚勾也加明勾又倍之得二百四十步即城径也合问
　　或问甲从干隅东行乙从艮隅南行丙从干隅南行丁从坤隅东行四人遥相望见既而甲还至艮隅就乙丙还至坤隅就丁甲丙直行共九百二十步甲还就乙共二百三十步丙还就丁共五百五十二步问答同前
　　法曰并就数以减直行共复以所并就数乘之为实并就数减直行共得数复加入直行共为法得虚草曰别得甲丙直行共为大和也甲还就乙步为小差勾股共也丙还就丁步为大差勾股共也以大差勾股共减于大股余即虚勾也以小差勾股共减于大勾余即虚股也二数相并得□为大虚共也二数相减余□为通差及大虚勾股差共也又并二数而半之得□为太极虚共又为太极勾股共也立天元一为虚先以二共数减于大和余□为虚勾虚股和于上次以虚减于二共数余□□为大以乘上位得下□□【寄左】然后以天元乘大和得□为同数与左相消得□□上法下实得一百二步即虚也加入虚和得二百四十步即城径也合问
　　又法并云数减大和复以二数相减乘之为实并云数减大和得数复加入大和为法得虚差
　　草曰立天元一为虚较先以并云数减大和余□为虚和于上次以天元减于二就步较□得□□为通差以乘之得□□【寄左】然后以天元乘大和得□为同数与左相消得□□上法下实得四十二步即虚差也副置虚和为二位上加虚差而半之得九十即虚股也下减虚差而半之得四十八即虚勾也勾幂股幂相并得□开平方得一百二步即虚也加入虚和得二百四十步即城径也合问
　　或问依前见大和只云股圆差上勾差二百一十六勾圆差上股差二十步问答同前
　　法曰以云数二十步减通和复以二十步乘之于上以云数二百一十六减九百步【按即并二差以减大和】而半之乘上位为立实三因二十步以减通和得八百六十以二百一十六减通和而半之得二百四十二二数相乗讫内减二十之九百步又以三百四十二及二百一十六共得五百五十八又以之以减之为从方【按取从方内语有误当云三因小差减大和并二差减大和半之相乘于上三因大和加大差减三之小差半之以小差乘之得数减上位为从方】以二百一十六减通和又以三之二十步减通和相并于上以二之五百五十八内却减二十步余以减上位为益亷【按取益亷内语亦有误当云三因大和减六之小差为益亷】四步常法得小差股
　　草曰别得小差上股差□加二股为大勾也大差上勾差□加二勾为大股也立天元一为小差股加□得□□为小差也小差上又加天元得□□为通勾以减于和步得□□为通股也通股内减大差上勾差□得□□半之得下式□□即大差之勾也大差勾上又加勾差□得□□为大差也再置通股以小差乘之得□□□以天元除之得□□□为一个大也【泛寄】再置通勾以大差乘之得□□□合以大差勾除不除寄母便以为大【寄左】乃以大差勾乘泛寄得□□□□为同数与左相消得□□□□益积开立方得一百五十步为小差股也合问
　　或问依见前大和只云髙平共得三百九十一步髙平相较得一百一十九步问答同前
　　法曰以较数幂减于共数幂又半之为实以共数减大和为益从一步常法开平方得圆径
　　草曰别得髙数减于通股为边股内减明股也平减于通勾为边勾内减明勾也其共数即大内减皇极又为皇极勾股共也其相较步即皇极差也二云数相并即黄广也二云数相减余即黄长也以共数减于大和余□为皇极与圆径共立天元一为圆径以减皇极与圆径共得□□为皇极也以共数自之得□于上以相较数自之得□减上位余□又半之得□为两段皇极积【寄左】乃以天元乘皇极得卜□为同数与左相消得下□□□开平方得二百四十步即城径也合问
　　或问依前见大和只云大差四百八步小差一百七十步问答同前
　　法曰以并云数减大和复以乘大和又倍之为平实三之通和于上又以并云数减大和加上位为从二步虚法得圆径
　　草曰大差减和步余□为大勾大差勾共也以小差减大和余□为大股小差股共也云数相并□即大内减虚也云数相减得□为虚平共也【按此二语因数偶合而误见前】以相并数减于大和余□为大差勾小差股共又为圆径虚共也立天元一为圆径减于□得□□为虚也返以减于圆径得□□为小和也以天元减大和得□□为大以乘小和得□□□【寄左】乃再置虚以通和乘之得□□与左相消得□□□开平方得二百四十步即城径也合问
　　或问依前见大和只云黄广五百一十步黄长二百七十二步问答同前
　　法曰云数相并减大和复以相并数乘之为实云数相并减大和得数复以加大和为法得虚
　　草曰别得黄广又为大差虚共又为边股叀股共也黄长又为小差虚共又为底勾明勾共也以黄广减于大股余即虚股以黄长减于大勾余即虚勾故并数以减于大和余□为虚和也以虚和减径□□即虚也二云数相并得□为大虚共也云数相减余□为虚平共【按此句误同上】立天元一为虚以减于七百八十二得□□为大也以小和乘之得□□【寄左】乃以天元虚乘大和得□呔为同数与左相消得□□上法下实得一百二步即虚也合问
　　或问依前见大和只云边五百四十四步底四百二十五问答同前
　　法曰云数相减自之为实以大和减并数为法得皇极
　　草曰别得以边减大股余为半径内减平勾又为平内减勾圆差也以底减于大勾余为髙股内少半径又为股圆差内少髙股也二云数相并得九百六十九为大皇极共也二云数相减□为皇极勾股差也并数内减通和余□为皇极内减圆径也立天元一为皇极以自之于上以一百一十九自之减上位得丨□□为二皇积【寄左】复置天元内减四十九得下式□□为黄方复以天元乘之得丨□与左相消得□□上法下实得二百八十九步即皇极也内减四十九余即城径也合问
　　按右大和八问每问于大和外复设二数然多有大和外设一数即可求者细考其法草所载皆三数并用婉转求之盖意在发明三数取用之理非不知其可省也














　　测圆海镜卷九
　　钦定四库全书
　　测圆海镜卷十
　　元　李冶　撰
　　三事和八问
　　或问甲乙同立于干隅乙向东行不知步数而立甲向南直行多于乙步望见乙复就东北斜行与乙相防二人共行了一千六百步又云甲南行不及斜行八十步问答同前
　　法曰共步内减四之小差复以自之于上以十八个小差幂减于上为实四之共步内减十六个小差于上却以十八小差加上为益从四步常法开平方得中差
　　草曰别得共步为三事和也不及步即小差也立天元一为中差加二之小差得□□为大小差并以加入三事和得□□为三也倍三事得三千二百内去大小差并得□□为三和也内减三余□□为三个黄方以自之得□□□为九段黄方幂【寄左】再置天元中差加小差得□□为大差以小差□乘之得□□为半个黄方幂就一十八之得□□为同数与左相消得□□□开平方得二百八十步即中差也其余各依法求之合问
　　或问以前三事和又云大差三百六十步问答同前法曰倍云数以云数乘之又九之于上倍云数加三事和为前数倍云数减二之三事和为后数二数又相减余一百六十为泛率以自乘减上位为平实十八之云数内又加四之泛率为从四常法得中差草曰立天元一为中差置云步倍之内减天元得□□为大小差共数加于三事和得□□为三也倍三事内减大小差共数得下式□□为三和也内减三得□□为三个黄方靣也以自之得□【□□】□为九段黄方幂【寄左】再以天元减大差得下式□□为小差又倍之得□□以云数乘之得下式□□又就分九之得下式□□与左相消得下式□□□开平方得二百八十步即中差也合问
　　或问依前见三事和又云中差二百八十步问答同前法曰和步加差步以自乘于上又和步内减差步以自乘加上位为平实四之和步为从二步益隅得大
　　草曰立天元一为大减共步得□□为和副置之上位减差步得□□为二勾以自之得丨□□为四段勾幂也下位加差步得□□为二股以自之得丨□□为四段股幂也二位相并得□□□为四段幂【寄左】然后以天元自之又四之得□□为同数与左相消得□□□开平方得六百八十步即大也倍之以减于三事和余即城径也合问
　　或问依前见三事和又云小差大差并四百四十步问答同前
　　法曰并前后二数三而一为反以减共步得数又以减得城径
　　草曰二数相并得□三而一得□即也以减三事和得□即和也和又相减余二百四十步即城径也合问
　　或问依前见三事和又云小差中差大差共七百二十问答同前
　　法曰半云数自之又三之于上以三事减上位为平实【按以三事减上位有误此系偶合三事之数耳当云加半段三事幂又倍三事和加大差复以大差乘之减上位为平实】倍三事于上半云数而五之加上位为益从二常法得小差
　　草曰别得三差共为二大差也立天元一为小差并大差加入三事和得□□为三也以自之得丨□□为十八积九较幂【寄起】又以共三事步自之得□方于上又以天元小差乘大差倍之得□加于上得□□为十二积四较幂又加五【按即三因二归】得□□为十八个直积六个较幂以减寄起余得丨□□为三个较幂【寄左】然后以天元小差减大差得□□为中差以自之得丨□□又三之得下式川□□为同数与寄左相消得□□□平方而一得八十步即小差也余各依数求之合问
　　或问依前见三事和又云明黄方叀黄方共六十六问答同前
　　法曰二事内加二之共步复以二之共步乘之于上位三事内减二之共步复以二之共步乘之得数减上位为平实三事内加二之共步又倍之于上又三【按三当作六】之共步加上位为泛寄三事内减二之共步又四之于上又三【按三亦当作六】之共步减上位得数以减泛寄为从作十八段虚平方开之得虚黄方
　　草曰别得共步即虚大小差也立天元一为虚黄方以三之加入倍之共步得□□为圆径也以圆径加三事得□□为二通和以圆径减三事得□□为二通又副置圆径上加天元得□□为二虚和下减天元得□□为二虚乃置二大和以二小乘之得下□□□【寄左】然后置二大以二小和乘之得下式□□□与左相消得□□□平方开之得三十六步即虚黄方也其余各依法求之合问
　　或问依前见三事和又云皇极二百八十九步问答同前
　　法曰二数相乘为实从空一益隅得大
　　草曰立天元一为通内减皇余□□为皇极勾股和以自之得丨□□于上以皇极幂减上位得丨□为二直积合于皇极除之不除寄为母便以此为城径【寄左】乃以二之天元减共步得□□为黄方面以皇通之得□□与左相消得丨□□开平方得六百八十步即大也合问
　　或问依前见三事和又云见太虚一百二步问答同前
　　法曰半虚乘三事为实三事为从四虚隅翻开之得半大
　　草曰识别得以虚减大半之为皇极以虚加大半之为皇极勾股共也立天元一为半大以二之内减虚得□□折半得□□为皇极也又以虚加大而半之得□□为皇极和也和自之得丨□□于上又以自之得丨□□减上位余得下□为二直积合以皇极除之不除寄为分母便以此为城径【寄左】然后以四之天元减三事共余□□又以皇极分母通之得□□□为同数与左相消得□□□倒积开得三百四十步倍之即大也合问




　　测圆海镜卷十
　　钦定四库全书
　　测圆海镜卷十一
　　元　李冶　撰
　　杂糅一十八问
　　或问城南有槐树一株城东有柳树一株甲出北门东行丙出西门南行甲丙槐柳悉与城叅相直既而丙就柳行五百四十四步至柳树下甲就槐行四百二十五步至槐树下问答同前
　　法曰甲就步自之于上以二行相减数自之减上位为实二之二行相减数并入二之甲就步为从一步常法得平
　　草曰别得丙就步为边也甲就步为底也边即皇髙共也底即皇平共也二行相并即大皇共也二行相减即皇极勾股较也倍皇以减于大余即虚也倍皇内减边余即叀也倍皇内减底余即明也皇极加一差【按一差即皇极勾股较】则大差也内减一差则小差也立天元一为平加一皇极勾股差得□□即髙也髙自之得丨□□内加天元幂得□□□为皇幂【寄左】然后以天元减底得下式□□自之得丨□□为同数与左相消得丨□□开平方得一百三十六步即平也余各依法求之合问
　　或问出南门东行有槐树一株甲出北门东行斜望槐树与城相直就槐树行二百七十二步出东门南行有柳树一株丙出西门南行斜望柳树与城相直就柳树行五百一十步问答同前
　　法曰云数相并而半之以自乘于上半丙斜行以为幂半甲斜行以为幂并二幂减上位为实并云数为益从一步平隅得虚
　　草曰别得丙斜行为黄广也亦为两个髙也此勾则城径也甲斜行即黄长也亦为两个平也此股则城径也二数相并得□即大虚共也二数相减余□即两个皇极差也二数相并而半之得□即皇极和也立天元一为虚以减于皇极和得□□即皇极也以自之得丨□□为皇幂【寄左】然后以髙自之得□以平自之得□二自乘数相并得□与左相消得□□□开平方得一百二即虚也合问
　　或问甲从坤隅南行不知步数而立乙从艮隅南行一百五十步望见甲复斜行五百一十步与甲相防问答同前
　　法曰斜行自之于上倍南行减斜余自之以减上为实倍南行减斜又四之为从八步常法平方得半径草曰别得南行即小差股斜行即黄广也小差股内减半径余即半个黄广积上股差也全径即其勾也立天元一为半城径减于乙南行倍之得□□即一个黄广即上股差也以减于斜行步余□□即股也自之得□□□为股幂也又倍天元以自之得□□为大勾幂加入大股幂得□□□【寄左】然后以斜行幂□与寄左相消得下式□□□开平方得一百二十步即半径也合问
　　或问乙从艮隅东行不知逺近而止甲从坤隅东行一百九十二步望见乙复斜行二百七十二步与乙相防问答同前
　　法曰倍东行减斜行得数自为幂以减于斜行幂为平实倍东行减斜行又四之为从八益隅翻法开平方得半径
　　草曰别得甲东行即大差勾也斜行则黄长也大差勾内减半径余即半个黄长积上勾差也全径即其股也立天元一为半径减于东行倍之得□□即一个黄长积上勾差也以减于斜行步得□□即黄长勾也以自之得□□□为勾幂于上倍天元以自之得□□加上位得下式□□□为幂【寄左】然后以斜行幂□为同数与左相消得□□□平开得一百二十步即半城径也合问
　　或问甲从坤东行一百九十二步丙从艮南行一百五十步望见之问答同前
　　法曰二行相乘倍之为平实如法得圆径
　　草曰别得甲行即大差勾丙行即小差股此二数相乘恰与大小差相乘正同如法相乘讫倍之得□为圆径幂【寄左】然然立天元为圆径以自之与左相消得丨□□开平方得二百四十步即城径也合问
　　又法以二行相减数减于二行相并数余者半之于上复以二行相减数加于上即城径
　　草曰别得甲东行减于径为虚勾也丙南行减于径为虚股也二行共为一径一虚共也二行相减即虚和也以相并数相减数又相减即两个虚也如法求得虚和□虚□相并得□即城径也合问按又法未合盖以二行相减为虚较而草中误以为虚和也其义甚浅非难知者是殆偶尔之遗忘然亦可以决其为当日未定之稿矣
　　或问出西门南行二百二十五步有塔出北门东行六十四步望塔正当城径之半问答同前
　　法曰二行相乘为平实一步常法得半径
　　草曰别得二百二十五步为髙股此乃半径为勾之股也其六十四步为平勾此乃半径为股之勾也二数相并即太极也二数相减即中差内去皇极差也又别得二行相乘恰是半径幂一段此与半梯头相乘其意正同今且以上容圆取之立天元一为半径副之上加南行得□□为股也下加东行步得□□为勾也勾股相乘得丨□□为大直积以天元半径除之得□□□为勾股和【寄左】然后并勾股得□□与左相消得丨○□开平方得一百二十步即半径也合问
　　或问丙从干隅南行丁从艮隅亦南行甲从干隅东行乙从坤隅亦东行各不知步数四人悉与城相直只云丙行内减丁行余四百五十步甲行内减乙行余一百二十八步问答同前
　　法曰二行相乘为实一步常法得城径
　　草曰别得丙行即大股丁行即小差之股也甲行即大勾乙行即大差之勾也其□即黄广股其□即黄长之勾也立天元一为城径先置黄广股□为股方差以□为勾方差以乘之得□为城径幂【寄左】然后以天元幂与左相消得下式丨□□开平方得二百四步合问
　　或问出南门东行有槐树一株出东门南行有柳树一株丙丁二人同立于坤隅甲乙二人同立于艮隅丁直东行至槐而止乙直南行至柳而止丙直南行甲直东行四人遥相望见只云丙行多于丁行一百六十八步乙行多于甲行七十步问答同前
　　法曰云数相乘为实二数相减又半之为法得城径草曰别得□即大差勾股较也其□即小差上勾股较也二数相并为大差内减小差也二数相较又半之皇极与城径差也二数相并而半之即皇极差也立天元一为圆径二云相减数又半之加天元得□□为极也并二数而半之得□为极差也副置极上位加极差得□□为较和也下位内减极差得□□为较较也上下相乘得丨□□为二直积【寄左】然后以天元一乘极得下式丨□为同数与左相消得□□上法下实而一得二百四十步即城径也合问
　　或问甲从坤东行丙从艮南行适相见斜行一百二步甲丙相防丙云我南行不及汝四十二步问答同前法曰二数相并以斜行乘于上二数相并而半之以乘相并数减上位为平实不及步为从一步常法得虚勾
　　草曰别得一百二步即虚四十二步即虚较也又斜行得虚股为乙东行此便为大差勾也斜行步得虚勾为丙东行此便是小差股也立天元一为虚勾加斜行步得□□为小差股也以不及步加于小差股得下式□□为大差勾也勾股相乘得丨□□为半段黄方幂【寄左】然后再置虚勾加不及步得□□为虚股又加入天元得□□为虚和又加入虚得□□为圆径以自之得□□□又半之得□□□与寄左相消得丨□□平方开得四十八步即虚勾也合问
　　或问甲从城心东行丙从城心南行庚从巽隅西行壬从巽隅北行四人遥相望见各不知步数只云甲丙共行了三百九十一庚壬共行了一百三十八问答同前
　　法曰云数相乘为实相并为法得虚
　　草曰别得甲丙共为皇极和也又为极极黄共庚壬共为太虚和也又为虚虚黄共立天元一为皇极黄方靣【亦为虚也】减于甲丙共得□□即极也又以天元减于庚壬共得□□即太虚黄方靣也以太虚黄方靣乘极得丨□□【寄左】然后以天元幂与左相消得□□上法下实如法得一百二步即皇极黄方靣也合问【按此亦系相消后得一边之二数者】
　　或问甲从干隅东行不知步数而止丙向南行亦不知步数望见甲就甲斜行七百八十步与甲相防甲云我行地虽少于汝以我东行步为法除汝南行步则汝止得二步四分问答同前
　　法曰斜步自之为平实除步自之又加一步为隅得甲东行
　　草曰此问所求城径与诸问并同其勾股则与前后诸率不同今特为此草者欲使后学有以考较诸率当否也立天元一为甲东行【即大勾】以乗二步四分得□为长以自之得□□为股幂又并入天元幂得□□为幂【寄左】乃以斜行自之得□为同数与左相消得□□□开平方得三百即甲东行也以二步四分乘之得七百二十步即丙南行也倍丙东行以甲东行乘之得四十三万二千为实以三事和一千八百为法除之得二百四十步即城径也合问
　　或问小差黄方靣少于大差黄方靣八十四步太虚黄方靣少于皇极黄方靣六十六步问答同前
　　法半八十四为中差以中差减六十六为二小差半之为小差又中小差相并为大差乃以小差乘大差为平实半步常法得虚黄
　　草曰别得八十四为两个虚积中差其六十六为虚积大小差并半八十四得□为虚中差也以中差减六十六余二十四半之得□即虚小差也以小差反减六十六余□即虚大差也又别得小差黄方为两叀股大差黄方为两明勾也立天元一为虚黄方置三位上加小差得□□为虚勾也中加大差得下□□为虚股也下加大小差并得□□为虚也三位并之得□□即城径也倍虚勾减城径得□□为大差黄方靣也又倍虚股减城径得□□为小差黄方靣也半小差黄方靣得□□以乘大差黄方得□□□为一个虚直积【寄左】乃以虚勾虚股相乘得丨□□为同数与左相消得□□□平方开得三十六步即虚黄方靣也其余依法求之合问据此问既别得大小差正数自可以求得黄方靣也诸如此数实不湏草今特为细草者庶使后学知其来歴
　　或问大差较较减皇极余四十九步小差较和减太虚余一百三十八步又皇极差一百一十九步问答同前
　　法曰并前二数为幂内减极差幂为平实从空二益隅得虚
　　草曰别得大差较较与小差较和皆同为圆径也又二数相并得□为明叀共又为极和内少两个虚也其一百三十八即虚和也□则旁差也立天元一为虚加入一百三十八得□□为圆径也又加入□得□□为极以自之得丨□□又倍之得□□□内却减极差幂□得下式□□□为和幂【寄左】乃倍天元加并数得□□为极和以自增乘得□□□为同数与左相消得□□□开平方得一百二步即虚也加入一百三十八得二百四十步为圆径合问【前二数相并加虚便是极】
　　或问小差不及平五十六步髙不及大差一百五步问答同前
　　法曰以前数自之为实二数相减为法得平勾草曰别得云数相并得□为平勾不及髙股也此数得极差则通差也此数内减虚差则极差也云数相减余□即城径不及极也以前数减于半径余即平勾以后数加于半径即髙股也倍前数加小差则为股圆差之勾也此与前数加平同倍后数减于大差则为勾圆差之股也此与后数减于髙同立天元一为平勾加相并数得□□即髙股也又加天元得□□即极也内减二云数差得□□为城径也半之得□□以自之得丨□□为半径幂【寄左】然后以天元乘髙股得丨□为同数与左相消得□□上法下实得六十四步即平勾也合问
　　又法云数相得为实相减为法得半径
　　草曰立天元为半径副之上内减五十六得□□为平勾下加一百五得□□为髙股上下相乘得丨□□为半径幂【寄左】以天元幂与左相消得下式□□上法下实得一百二十步即半径也合问
　　或问通勾通共一千步大差小差共得四百四十步问答同前
　　法曰以二差共减于一千又半之以自乘为平实以二差共减于一千又半之加入二之前数为纵【前数谓一千也　按此语有误应加入二之后数后数谓大小差共也】二步二分五厘益隅得勾圆差
　　草曰立天元一为小差数加入后数得□□却以减于前数得□□折半得□□为一个圆径也以自之得下式□□□【寄左】然后以天元减后数得□□为大差以天元乘之又倍之得□□与左相消得□□□开平方得八十步即勾圆差也
　　或问皇极三事和六百八十步太虚和较三十六问答同前
　　法曰二数相得为实半之后数为益从五分常法平开得城径
　　草曰别得皇极三事和即大也立天元一为城径减三个后数□而半之得□□为太虚大小差并也却加入两个后数□得下□□为虚和也又以虚和减天元得下□□为虚也置通【即皇极三事和也】内加天元得下式□□即通和也乃置通和以虚乘之得下式□□□【寄左】再置虚和以通乘之得下□□为同数与左相消得□□□开平方得二百四十步即城径也合问
　　或问出南门行一百三十五步有树出北门行一十五步折而东行二百八步望见问答同前
　　法曰以东行步乘南行步得数又自乘为实以东行步自乘乘南行步又倍之为从东行步自乘于上并南北二行步以减于东行步余数自之为幂以减上再寄位又并南北二行步以东行步乘而倍之内减再寄为第一益亷四之东行步于上又并南北二行步减于东行步又四之减上位为第二益亷四步虚隅开三乘方得半径
　　草曰立天元一为半径【即髙勾也】置南行步加天元得□□为髙也置大勾□以髙乘之得□□复以髙勾除之得下式□□为大也令之自乘得□□□【寄左】又置二之天元加南北行并得□□为大股复用大勾二百八减之得□□为较也以自乘得□□□为较幂以减寄左得□□□□□为二直积【寄左】再置大股□□以大勾□乘之得□□为直积又倍之得□□为同数与左相消得□□□□□翻法开三乘方得一百二十步即城径之半也合问
　　或问出北门一十五步折而东行二百八步有树出西门八步折而南行四百九十五步见之问答同前法曰先置南行步内减一东二西并步余二百七十一为前泛率次并一南二北内减东行步余三百一十七为中泛率次并东西步以南行步乘之于上位又以西行乘南北并得数减上位余一十万二千八百四十为后泛率乃以后泛率自乘得一百五亿七千六百六万五千六百为三乘方实以前中二泛相减余四十六以乘后法数为从前中二泛相乘得八万五千九百七加入二之后泛数共得二十九万一千五百八十七于上位又并东西行以乘南北并得二十二万三百二十加上位通得五十一万一千九百七为第一亷二之前泛数加入四之东西并得一千四百五十二于上位又以前中二泛相减于四十六减上位余一千四百六为第二亷一步常法得半径【按此法乃取于又法草中其求第二亷云二之前泛数句误当云二之四数并若二之前泛数加入四之东西并便得第二亷一千四百零六更不待再减然原文之意不如是也】
　　草曰立天元一为半城径加入东行西行并得□□为大勾也又置天元加入南行北行并得□□为大股也置西行八步以大股乘之得下式□□合以大勾除之不除寄为母便以此为股尖也置南行四百九十五步减天元得□□用分母大勾乘之乘讫得下式□□□内减了股尖余□□□为小股也【内带大勾分母】置小股合以大勾乘了复以大股除之为小勾今为小股内已有大勾为母更不湏乘只以小股□□□便为小勾也【内带大股为母】小勾小股相乘得数为一个小勾股相乘直积内带大勾股相乘直积为分母也乃以半城径【即天元也】除之为一个较和也丨□□□□此法本取勾外容圆合以较和除二积为勾外所容之圆今用天元半径除一个积则却得一个较和也内依旧带大积分母也【寄左】然后再置小股□□□合用大积乘之縁内已带大勾分母今只用大股□□乘之得□□□□为大积所乘小股于上再置小勾合用大积乘之縁内已带大股分母合只用大勾□□乘之得□□□□为大积所乘之小勾也以此小勾减上小股得□□□即带分小较也又二因小较得下式□□□为带分二较也又以大勾股直积丨□□乘二之天元半径得□□□为一个带分较较也【较较乘较和为二直积既以圆径除二百积为较和则是圆径为较较也今又为半天元圆径除一积为较和故倍天元半径作一个较较也】遂将此较较加入前二较得□□□□亦为一个较和也与寄左相消得下式丨□□□□开三乘方得一百二十步即城半径也合问
　　又法此问系是洞渊测圆门第一十三前答亦依洞渊细草用勾外容圆术以入于较和然其数烦碎宛转费力今别草一法其亷从与前不殊而中间段络迳捷明白方之前术极为省易学者当自知也　立天元一为半径副之上并加东西行得□□为通勾率下并加南北行得□□为通股率乃置西行八步以通股乘之得下□□合通勾除不除寄为母便以此为南小股也又置南行四百九十五步内减天元得□□用通勾乘之得□□□内减了南小股下式卜□□为股圆差也内带通勾分母又置北行一十五步以通勾乘之得□□合通股除不除寄为母便以此为北小勾也又置东行二百八步内减天元得□□用通股乘之得□□□内减了北小勾余□□□为勾圆差也【内带通股分母】乃以二差相乘得下式丨□【□□】□【□□】为半段圆径幂也内带通积为母【寄左】然后以通勾通股相乘得丨□□以天元幂乘之得丨□□□又倍之得下式□□□□为同数与左相消得亷从一与前同合问
　　按洞渊疑为古之精于算者序中谓老大以来得洞渊九容之说而于此问又明其为洞渊测圆门第十三题前答亦依其细草大抵是书之作皆师其意而演之者也今洞渊之为人与书虽不可考而即此一草观之其取径遥深而惟变所适亦可见文豹之一班矣至谓其数烦碎宛转费力特为初学难易而言读者宜善防也









　　测圆海镜卷十一
　　钦定四库全书
　　测圆海镜卷十二
　　元　李冶　撰
　　之分一十四问
　　或问甲乙二人俱在西北隅乙向直东行不知步数而止甲向直南行望见乙复向乙斜行甲告乙云我直行斜行共一千二百八十步汝东行步居我南行步十五分之八
　　法曰十六之共步幂为实二百五十七之共步为益从一十六步常法得勾圆差
　　草曰别得共步即股共也立天元一为小差以乘共步得□为勾幂就分以二百二十五通之得□为二百二十五段勾幂【寄左】然后再置共步内减小差得□□为二股就分四之得□□为一十五勾以自之得□□□为同数与左相消得□□□平方开之得八十步即小差也既得小差加共步而半之得六百八十步即也若以减共步而半之得六百步即股也以股幂减幂余一十万二千四百步开平方得三百二十步即勾也勾股相乘倍之得三十八万四千步为实以和和一千六百步为法实如法而一得二百四十步即城径也合问
　　或问甲乙二人俱在西北隅乙直南行不知步数而立甲直东行望见乙复向乙斜行与乙相防甲云我共行了一千步又云我东行步居汝南行步十五分之八
　　法曰二百二十五段共步幂为实七百六之共步为益从二百二十五步常法得股圆差
　　草曰别得共步即勾共也立天元一为大差以乘共步得□又就分以二百五十六通之得□为二百五十六个股幂【寄左】然后再置共步内减天元大差得□□为二勾就分以一十五之得□□为十六个股也以自之得□□【□□】为同数与左相消得□□□开平方得三百六十即大差也副置共步上位减大差而半之得三百二十步即勾也下位加大差而半之得六百八十步即也余数各依法求之合问
　　或问甲乙俱在城西北隅甲南行不知步数而立乙东行亦不知步数望见甲就甲斜行与之相防乙云我东步少于城周九分之五甲云我南行却多于汝东行二百八十步问答同前
　　法曰别得周居九分径居三分乙东行居四分【按此法未详当加倍较步为实径分数自之内减二分数为法得数三之即城径二十四字】
　　草曰立天元一为一分之数以三之得□为径以四之得□为勾以径减勾余□为小差【只天元便是小差】再置小差加入甲多步得□□为大差倍大差以天元乘之得□□为一段圆径幂【寄左】再置城径以自之得下式□□为同数与左相消得□□上法下实得八十步即一分之数也以三之得二百四十步即城径也合问
　　或问甲出西门南行不知步数而立乙出北门东行望见甲既而乙云我所行居城径六分之五甲云然则我所行却多于汝二百八十步问答同前
　　法曰四之却多步为实分自之于上半分母减子得数倍之又以减数乘之减上位为法得一分之数草曰别得却多步即勾股差也乃立天元一为一分数以六之为城径以五之为乙行置乙行内减半城径得□为小差也又加入却多步得□□又二之得□□为二大差又以小差乘之得□□为径幂【寄左】然后以径幂□□与左相消得下□□上法下实得四十步即一分之数也六之则为城径五之则为乙行又以却多步加乙行即甲行步也合问
　　或问甲丙二人俱在西北隅甲向东行不知步数而立丙向南行望见甲与之相防丙语甲云我行既多于汝又城径少于我四十分之十六【按四十为股分十六为径当云径少于我为四十分之十六原文脱为字似十六为股圆差分矣】甲云然则吾二人共行了九百二十步问答同前
　　法曰倍子以减倍母又乘共行步为实倍子减倍母以乘子母并数于上又以子幂加上位为法如法得一十五步即一分之数也
　　草曰别得共行步即通和也又别得四十分之十六或作二十分之八或作十分之四亦得但所得分数不同耳乃立天元一为一分之数以十六之为城径以四十之为丙行丙行减和步得□□为通勾勾内减径余得□□为小差于上以分母分子相减余□又倍之得□为两个大差以乘上位得□□为圆径幂【寄左】然后以分子十六分自之得下□□与左相消得□□上法下实得一十五步即一分之数也以十六之得二百四十步即城径也合问
　　或问甲乙俱立于城中心乙出东门直行不知步数而立甲出南门直行亦不知步数望见乙向乙斜行与之相防乙云我居汝南行十五分之八又云斜行步内若减甲直行余三十四步若减乙直行余一百五十三步问答同前
　　法曰以云数二减步为小差大差以相乘倍之开平方加入大小差并以自之于上又以大小差相较数以自之减上位为实甲行分乙行分相乘又倍之为隅法得一分之数
　　草曰别得云步相并得一百八十七是于皇极内少一个皇极黄方靣也又别得三十四步是个小勾圆差其一百五十三步是一个小股圆差此二差又相减余一百一十九即中差也乃立天元一为一分之数以八之得□为乙东行数以十五之得□为甲南行数以二数相乘又倍之得□□为二直积于上【寄左】然后以云步三十四乘一百五十三得五千二百二又倍之得一万四百四为平方实开之得一百二步即小黄方也加入相并数一百八十七得二百八十九为小也以自之得八万三千五百二十一为幂于上以中差幂一万四千一百六十一减上位余□与左相消得□□□平方开之得一十七步即一分之数也副置一分之数上位以八之得一百三十六即乙东行也下位以十五之得二百五十五即甲东行也二位相乘得三万四千六百八十又倍之得六万九千三百六十为实以二百八十九为法如法得二百四十步即城径也合问
　　或问甲出西门南行乙出北门东行各不知逺近两相望见复相斜行各行了三百四十步相防甲云城径居我南行二分之一乙云我东行居城径六分之五问答同前
　　法曰以二之斜行步自之为实以各行分数自之为幂【按此语未详当云以城径六分乘甲南行二分得十二分加半城径三分得十五分为大股分乙东行五分加半城径三分得八分为大勾分各自之为幂】又相并为隅法开平方得一分之数
　　草曰别得倍斜行为大又别得乙行五分城径六分甲行十二分乃立天元一为一分之数以六之得□为城径以五之得□为乙行分以十二之得□为甲行分乃副置半城径上位加甲行步得□以自之得□□为甲行幂下位加乙行步得□以自之得□□为乙行幂二幂又相并得□□为大幂【寄左】然后置大六百八十步以自之得□与左相消得□□□平方开之得四十步即一分之数也以六之得二百四十步即城径也合问
　　或问甲出西门南行不知步数而立乙出北门东行见之乙斜行与甲相防甲乙二人共行了一千三百六十步其甲南行居斜十七分之十二其乙东行居斜十七分之五问答同前
　　法曰别得共步即二也半共步得六百八十步副置上位以五之得三千四百以十七而一得二百步即乙东行也下位以十二之得八万一千六百以十七而一得四百八十即甲南行也二行相减余二百八十即勾股差也其余各依法求之合问
　　或问甲出西门南行不知步数而立乙出北门东行望见之既而乙谓甲云我取汝六分之五得六百步甲谓乙云我取汝五分之三亦得六百步问答同前法曰求得各行步【按见后草】相并以自之于上并甲南行幂乙东行幂以减上为实并各行为从半步常法得全径
　　草曰置【乙取甲六分之五六百步甲取乙五分之三六百步】以上六分五分各自直乗步数讫得人【六分　之五　三千六百步五分　之三　三千步】别得左行三千六百步为六乙行五甲行也右行三千步为五甲行三乙行也以方程法入之乃再置【五甲行　六乙行　三千六百步五甲行　三乙行　三　千　步】先以左行直减右行右上空中余三乙行下余六百步上法下实得二百步即乙行也却以今右行减于元左行上余五甲行空中下余二千四百步上法下实得四百八十步即甲行也既得此数乃立天元一为城径以半之副置二位上以加甲行得□□为通股以自之得□□□为大股幂下位加乙行得□□为通勾以自之得□□□为大勾幂二幂相并得□□□为大幂【寄左】乃并甲行乙行以自乗得下式□亦为大幂与左相消得下□□□开平方得二百四十步即城径也合问
　　或问甲从坤隅南行不知步数而立乙从艮隅东行望见之既而乙谓甲云我所行取汝所行三分之一得二百步甲谓乙云我所行内减汝所行四分之三得三百步问答同前
　　法曰如法求得各行【按见后草】以相乗又二之开平方得全径
　　草曰置【乙取甲三分　之一　二百步甲减乙四分　之三　三百步】以上三分四分置乗步数讫得【三分之一　六百步　　四分之三　一千二百步】别得右行六百步为三乙行一甲行也左行一千二百步为四甲行内少三之乙行步也以方程法入之乃再置【一甲行　三乙行　　六　百　步四甲行　三乙行负　一千二百步】先以左行直加右行右上得五甲行中空下一千八百步上法下实得三百六十步即甲行也次以一甲行减元右行六百步余二百四十步以中三除之得八十步即乙行步也甲行乙行二数相乘得数又倍之开平方即城径也合问
　　或问股圆差如股五分之三勾圆差如勾四分之一又云其大小差相减余二百八十步问答同前
　　法曰二之中差为实置股子以勾母乗之内减股母为法得小差
　　草曰别得勾圆差即小差股圆差即大差云步即中差乃立天元一为小差以四之得□为勾勾上加中差得□□为股又三之得□□为五个大差也内减五个天元得□□为五个中差也【寄左】乃以五之相减步□与左相消得□□上法下实得八十步即小差也合问
　　或问股圆差如股五分之三勾圆差如勾四分之一又云勾母每分少于股母每分四十步问答同前法曰二之少步实以股子母相减数减勾子母相减数为法如法得小差
　　草曰立天元一为勾圆差便为勾母每分数以天元加四十步得□□为股母每分数于上乃以股子减股母余二分以乘上位得□□为城径【寄左】再置天元在地以勾子减勾母余三分以乗之得□□为同数与左相消得下丨□上法下实得八十步即勾圆差也合问
　　或问甲出南门直行乙出东门直行望见甲斜行与甲相防甲云我行不及股圆差二十四分之十五乙云我行不及勾圆差五分之四又云甲行多于乙行一百一十九股圆差多于勾圆差二百八十问答同前法曰以大差母分二十四以乘甲多一百一十九得数倍小差母五得一十以乘之于上以小差母五乗二之二差相较数又九之减上位为实倍小差母得一十却以小差乗之又九之于上倍甲分母以小差母乗之得数减上位以为法得小差一分之数草曰立天元一为小差一分之数【此一分之数便是乙直行之数也】以五之得□为小差加二百八十得下□□为大差又倍之得□□以小差乗之得下式□□为一个圆径幂又九之得□□【寄左】乃又置乙行步加一百一十九□□即甲行步也以二十四之得□□为九个大差也倍小差母得□以乘之得□□为同数与左相消得□□上法下实得一十六步即小差一分之数也既得此数余各如法求之合问
　　或问大勾大股大三事和一千六百步以明勾除大股得八步三分之一以□股除大勾得一十步三分之二以虚勾明勾相减余二十四步以虚股□股相减余六十步问答同前
　　法曰六十步加入大三事和又三之二而一为实并二云数分母分子内减六步为法如法得□股草曰别得六十步与二十四步二数相并而半之得□即明勾□股差也又为虚勾虚股差也若以二数直相减即虚黄方也其二十四步得二虚勾即半径也其六十步得二□股亦为半径也立天元一为□股加差步得□□为明勾也以乗八步三分之一得□□为大股也以天元乗一十步三分之二得□为大勾也勾股相并得下□□为大和也【寄左】然后四之天元加入二之六十步得□□为小三事和以小三事和加入大三事和得□□为二个大和也合折半为大和了又就三分之为前数今不折半三因但身外加五得□□为同数与左相消得□□上法下实得三十步即□股也四之□股加入二之六十步得二百四十步即城径也合问
　　按之分即通分也张邱建谓学者不患乘除之为难而患通分之为难又谓夏侯阳之方仓孙子之荡杯皆未尽其妙于是作为算经三卷以发其义是书末设十四问皆以立天元一之法御之尤为简妙殆所以明立天元一之法其用无不周也又按问中两言以方程入之张邱建算经内数问亦然盖有通分而乗除不穷有方程而通分益便此又因通分及之非立天元一本法也秦九韶谓时人误以大衍法为方程者盖此类也
　　按右书十二卷皆为立天元一法而作也其法神明变化不可端倪今略举数端言之如诸法中有求之不可得者此法求之可得若此法求之不可得者则必不可求矣又诸法中有难求者虽强探力索毫厘未至则不可得此法但知大意不待深思加以步算即可得矣又诸法中有所求或先得彼而后得此者不能移易此法任其所求或先得此或先得彼无不如志又诸法有数始可求一数不具则不可求此法数不具亦可求且有无数即可求者又诸法遇甚繁甚密者湏次第步算或累日累月其功不能再省此法有经年步算可约之顷刻而得者凡此皆寻常智虑所不能及要皆自然之理数易知易从然自不习者观之盖有茫然莫解其故者矣是书之作殆深忧习者难其人而其法遂泯于后世也其誊写鲁鱼算式舛讹今悉正之








　　测圆海镜卷十二
　　后序
　　敬斋先生病且革语其子克修曰吾平生著述死后可尽燔去独测圆海镜一书虽九九小数吾尝精思致力焉后世必有知者庶可布广垂永乎先生于六艺百家靡不贯串文集近数百卷常谦谦不自伐惟于此书不忘称异于易箦之间想有妙内得于心者予以先生与先人同牓之故素常兄事克修克修兄命予重为序之予不敢诡论艳藻刻画无盐唐突西子直以所闻语意载之于后至元二十四年春三月朔翰林修撰承直郎广平王德渊后序






